"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[136],{13136:function(e,n,s){s.d(n,{pj:function(){return Oe},Q7:function(){return oe},Vu:function(){return Ze},S$:function(){return ae},H$:function(){return re},yY:function(){return se},oQ:function(){return Ie},EJ:function(){return Q},A6:function(){return He},U3:function(){return We},AN:function(){return K},oL:function(){return m},Ac:function(){return we},MN:function(){return Ee},GF:function(){return ze},UJ:function(){return ve},fr:function(){return De},hw:function(){return O},ML:function(){return he},$R:function(){return Te},Vm:function(){return y},Mf:function(){return o}});var i=s(85893),t=s(85390),l=s(87054),r=s(51482);const o=e=>{let{title:n="11",handleSetLayout:s,layout:o}=e;return(0,i.jsxs)(t.Z,{value:o,exclusive:!0,onChange:(e,n)=>{n&&s(n)},"aria-label":"text alignment",children:[(0,i.jsx)(l.Z,{value:"lists","aria-label":"left aligned",children:(0,i.jsx)(r.gl,{})}),(0,i.jsx)(l.Z,{value:"cards","aria-label":"right aligned",children:(0,i.jsx)(r.fn,{})})]})};var a=s(67074),c=s(33284),d=s(18661),x=s(30120),h=s(67294),u=s(87536);const p=(0,a.ZP)((e=>(0,i.jsx)(c.Z,{...e,TabIndicatorProps:{children:(0,i.jsx)("span",{className:"MuiTabs-indicatorSpan"})}})))({minHeight:"38px","& .MuiTabs-indicator":{display:"flex",justifyContent:"center",backgroundColor:"transparent",height:"100%",borderRadius:"6px"},"& .MuiTabs-indicatorSpan":{width:"100%",backgroundColor:"#ef5d22",borderRadius:"6px",boxShadow:"rgb(199 133 101) 0px 2px 10px"}}),g=(0,a.ZP)((e=>(0,i.jsx)(d.Z,{disableRipple:!0,...e})))((e=>{let{theme:n}=e;return{textTransform:"none",borderRadius:"6px",backgroundColor:"transparent",fontWeight:600,fontSize:"16px",marginRight:n.spacing(1),color:n.palette.primary.main,padding:"0px 20px",minHeight:"38px",zIndex:50,"&.Mui-selected":{color:"#FFF"},transition:n.transitions.create("color",{easing:n.transitions.easing.easeOut,duration:n.transitions.duration.enteringScreen}),"&.Mui-focusVisible":{backgroundColor:"red"}}})),m=e=>{let{}=e;const{control:n,setValue:s,watch:t}=(0,u.Gc)(),l=t();return(0,i.jsx)(x.Z,{sx:{width:"100%",height:"100%"},children:(0,i.jsx)(x.Z,{children:(0,i.jsxs)(p,{value:l.marketID,onChange:(e,n)=>{s("marketID",n)},"aria-label":"styled tabs example",children:[(0,i.jsx)(g,{label:"All",value:""}),(0,i.jsx)(g,{label:"Europe",value:"adb3ee80-0dc3-4e32-3146-08daf475bd7b"}),(0,i.jsx)(g,{label:"USA",value:"517f0c1b-8dae-47be-3147-08daf475bd7b"}),(0,i.jsx)(g,{label:"Asia",value:"ec805ab4-e329-43dc-3148-08daf475bd7b"})]})})})};const j=(0,a.ZP)((e=>(0,i.jsx)(c.Z,{...e,TabIndicatorProps:{children:(0,i.jsx)("span",{className:"MuiTabs-indicatorSpan"})}})))({minHeight:"38px","& .MuiTabs-indicator":{display:"flex",justifyContent:"center",backgroundColor:"transparent",height:"100%",borderRadius:"6px"},"& .MuiTabs-indicatorSpan":{width:"100%",backgroundColor:"#ef5d22",borderRadius:"6px",boxShadow:"rgb(199 133 101) 0px 2px 10px"}}),f=(0,a.ZP)((e=>(0,i.jsx)(d.Z,{disableRipple:!0,...e})))((e=>{let{theme:n}=e;return{textTransform:"none",borderRadius:"6px",backgroundColor:"transparent",fontWeight:600,fontSize:"16px",marginRight:n.spacing(1),color:n.palette.primary.main,padding:"0px 20px",minHeight:"38px",zIndex:50,"&.Mui-selected":{color:"#FFF"},transition:n.transitions.create("color",{easing:n.transitions.easing.easeOut,duration:n.transitions.duration.enteringScreen}),"&.Mui-focusVisible":{backgroundColor:"red"}}})),y=e=>{let{tabList:n,handleFunction:s,valueSelected:t}=e;return(0,i.jsx)(x.Z,{sx:{width:"100%",height:"100%"},children:(0,i.jsx)(x.Z,{children:(0,i.jsx)(j,{value:t,onChange:(e,n)=>{s(n)},"aria-label":"styled tabs example",children:n.map(((e,n)=>(0,i.jsx)(f,{label:e.label,value:e.value},"styledTab-".concat(e.label,"-").concat(n))))})})})};var Z=s(61225),b=s(2961),C=s(17575),v=s(80562),I=s(76429);const O=e=>{let{children:n,isOpen:s,onClose:t,title:l,loadingBtn:o,labelCloseBtn:a="\u0110\xf3ng",labelSubmitBtn:c="Th\xeam",maxWidth:d="sm",...x}=e;const h=(0,Z.Z)((e=>e.breakpoints.down("sm")));return(0,i.jsx)(b.Z,{open:s,onClose:(e,n)=>{"escapeKeyDown"==n&&t()},scroll:"body",fullScreen:h,fullWidth:!0,maxWidth:d,...x,children:(0,i.jsx)(I.AX,{title:l,darkTitle:!0,secondary:(0,i.jsx)(C.Z,{title:"Close",children:(0,i.jsx)(v.Z,{onClick:()=>{t()},sx:{fill:"#626262"},children:(0,i.jsx)(r.og,{})})}),children:n})})};var D=s(49837),S=s(69647),F=s(29630),T=s(44373),N=s(75158),w=s(43963),k=s(70918),M=s(23926),L=s(85214),P=s(95309),E=s(29894),R=s(61702),A=s(11163);const Q=e=>{let{data:n,handleSelect:s,checked:t}=e;const l=(0,A.useRouter)(),[o,a]=(0,h.useState)(null),c=()=>{a(null)};return(0,i.jsxs)("div",{style:{height:"100%"},children:[(0,i.jsxs)(D.Z,{sx:{boxShadow:t?"#ec5011 0px 0px 0px 3px":"rgb(159 162 191 / 18%) 0px 9px 16px, rgb(159 162 191 / 32%) 0px 2px 2px",height:"100%",display:"flex",flexDirection:"column"},children:[(0,i.jsxs)(x.Z,{sx:{flex:1,display:"flex",flexDirection:"column"},children:[(0,i.jsx)(x.Z,{sx:{margin:"8px !important",marginBottom:"0px !important"},className:"flex justify-end items-center",children:(0,i.jsx)(x.Z,{children:(0,i.jsx)(v.Z,{"aria-label":"settings",sx:{padding:"4.5px",fill:"#ec5011"},onClick:e=>{a(e.currentTarget)},children:(0,i.jsx)(r.l2,{})})})}),(0,i.jsx)(x.Z,{className:"",sx:{flex:1," img":{objectFit:"contain"}},children:(0,i.jsx)(S.Z,{component:"img",height:"100%",image:n.icon,alt:"green iguana"})}),(0,i.jsx)(x.Z,{className:"p-[18px] flex",children:(0,i.jsx)(F.Z,{color:"#ec5011",variant:"h3",component:"div",children:n.name})})]}),(0,i.jsxs)(x.Z,{children:[(0,i.jsx)(T.Z,{}),(0,i.jsxs)(x.Z,{className:"flex justify-between items-center p-[18px]",children:[(0,i.jsx)(x.Z,{children:(0,i.jsxs)(F.Z,{children:[(0,i.jsx)("span",{style:{fontWeight:"bold"},children:"10"})," ","models"]})}),(0,i.jsx)(x.Z,{children:(0,i.jsx)(N.Z,{onClick:()=>{s(n.id)},checked:t})})]})]})]}),(0,i.jsx)(w.ZP,{id:"id",open:Boolean(o),anchorEl:o,onClose:c,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},children:(0,i.jsx)(x.Z,{children:(0,i.jsx)(k.Z,{children:(0,i.jsx)(M.Z,{onClickAway:c,children:(0,i.jsx)(x.Z,{sx:{p:0},children:(0,i.jsx)(L.Z,{component:"nav",children:(0,i.jsxs)(P.Z,{sx:{fill:"#ef5d22"},onClick:()=>{l.push({pathname:"/brands/detail",query:{brandId:n.id}})},children:[(0,i.jsx)(E.Z,{children:(0,i.jsx)(r.tE,{})}),(0,i.jsx)(R.Z,{primary:(0,i.jsx)(F.Z,{color:"inherit",children:"Chi ti\u1ebft"})})]})})})})})})})]})};var q=s(44731),W=s(88767),H=s(51593),z=s(37024),V=s(21977),U=s(31812),B=s(78944),X=s(76779),_=s(79072),G=s(26993);const K=e=>{let{isOpen:n,onClose:s,title:t="X\xd3A D\u1eee LI\u1ec6U",content:l,isLoading:r,colorButton:o="error",cancel:a="H\u1ee7y b\u1ecf",ok:c="\u0110\u1ed3ng \xfd",handleFunction:d,cancelButtonProps:h,okButtonProps:u}=e;return(0,i.jsxs)(b.Z,{open:n,onClose:()=>{s()},children:[(0,i.jsx)(x.Z,{sx:{padding:"24px 16px 0 16px"},children:(0,i.jsx)(F.Z,{variant:"h2",align:"center",sx:{textTransform:"uppercase"},children:t})}),(0,i.jsx)(B.Z,{sx:{maxWidth:400,margin:"12px"},children:(0,i.jsx)(F.Z,{align:"center",fontSize:"1rem",children:l})}),(0,i.jsx)(X.Z,{children:(0,i.jsxs)(_.ZP,{container:!0,spacing:1,children:[(0,i.jsx)(_.ZP,{item:!0,xs:6,children:(0,i.jsx)(U.Z,{variant:"text",onClick:()=>d(),loading:r,color:"error",fullWidth:!0,...u,children:c})}),(0,i.jsx)(_.ZP,{item:!0,xs:6,children:(0,i.jsx)(G.Z,{color:"info",onClick:s,disabled:r,fullWidth:!0,...h,children:a})})]})})]})};var Y=s(62097),J=s(91359),$=s(62026),ee=s(47533),ne=s(74231);const se=e=>{let{isOpen:n,onClose:s,isUpdate:t,dataUpdate:l,brandID:o}=e;(0,A.useRouter)();const a=(0,W.useQueryClient)(),c=(0,Y.Z)(),d=ne.Ry().shape({name:ne.Z_().required("T\xean d\xf2ng xe kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng")}),h=(0,u.cI)({defaultValues:{name:"",emodelType:1,icon:""},resolver:(0,ee.X)(d)}),p=h.watch(),g=(0,W.useMutation)(H.Lf.create,{onSuccess:e=>{a.invalidateQueries(["modelsOfBrand",o]),s(),h.reset(),V.dN.success("T\u1ea1o m\u1edbi d\xf2ng th\xe0nh c\xf4ng")},onError:e=>{V.dN.error(e.response.data.resultMessage)}}),m=(0,W.useMutation)(H.Lf.update,{onSuccess:e=>{a.invalidateQueries(["modelsOfBrand",o]),s(),h.reset(),V.dN.success("C\u1eadp nh\u1eadt d\xf2ng xe th\xe0nh c\xf4ng")}}),j=(0,W.useMutation)(H.aq.upload);return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(O,{isOpen:n,onClose:()=>{h.reset(),s()},maxWidth:"md",title:t?"CH\u1ec8NH S\u1eecA D\xd2NG XE":"T\u1ea0O M\u1edaI D\xd2NG XE",children:(0,i.jsx)(u.RV,{...h,children:(0,i.jsxs)("form",{onSubmit:h.handleSubmit((e=>{t?m.mutateAsync({...e,brandID:o}):g.mutateAsync({...e,brandID:o})}),(e=>{(0,V.lQ)(e)})),children:[(0,i.jsx)(J.Z,{children:(0,i.jsxs)(_.ZP,{item:!0,container:!0,sx:{},spacing:"27px",children:[(0,i.jsx)(_.ZP,{item:!0,xs:12,md:7,children:(0,i.jsx)(x.Z,{children:(0,i.jsxs)(_.ZP,{container:!0,item:!0,xs:12,spacing:"27px",children:[(0,i.jsx)(_.ZP,{item:!0,xs:12,children:(0,i.jsx)(I.qR,{control:h.control,name:"name",label:"T\xcaN D\xd2NG XE",required:!0,labelSx:{whiteSpace:"nowrap"}})}),(0,i.jsx)(_.ZP,{item:!0,xs:12,children:(0,i.jsx)(I.iw,{required:!0,optionsList:[{value:1,label:"Car & Light Truck"},{value:2,label:"Heavy Truck & Heavy Equipment"}],label:"LO\u1ea0I XE",control:h.control,name:"emodelType"})})]})})}),(0,i.jsx)(_.ZP,{container:!0,item:!0,xs:12,md:5,children:(0,i.jsxs)(x.Z,{className:"mt-[27px] flex flex-col gap-[27px] min-w-[200px] mx-auto items-center",children:[(0,i.jsx)(S.Z,{component:"img",className:"rounded-md",sx:{height:150,minWidth:150,objectFit:"contain"},image:p.icon?p.icon:"https://via.placeholder.com/150",title:"green iguana"}),(0,i.jsxs)("label",{children:[(0,i.jsx)("input",{type:"file",accept:"image/*",style:{display:"none"},onChange:async e=>{console.log(e.currentTarget.files[0]);await j.mutateAsync(e.currentTarget.files[0],{onSuccess:e=>{e&&(console.log(e),h.setValue("icon",e.fileUrl))},onError:e=>{console.log(e)}})}}),(0,i.jsx)(U.Z,{size:"large",startIcon:(0,i.jsx)(r.eD,{}),sx:{gap:"6px",fill:c.palette.primary.dark,padding:"14px 42px",color:c.palette.primary.dark},variant:"outlined",component:"span",children:"Ch\u1ecdn \u1ea3nh"})]})]})})]})}),(0,i.jsx)(T.Z,{}),(0,i.jsxs)($.Z,{sx:{justifyContent:"flex-end"},children:[(0,i.jsx)(G.Z,{type:"button",variant:"text",onClick:()=>{s()},children:"\u0110\xf3ng"}),(0,i.jsx)(U.Z,{variant:"contained",loading:g.isLoading,type:"submit",children:"T\u1ea1o"})]})]})})})})};var ie=s(25675),te=s.n(ie);const le=e=>{let{title:n}=e;return(0,i.jsxs)(x.Z,{sx:{bgcolor:"rgba(241, 169, 52, 0.1)",py:"10px",px:"22px",borderRadius:"6px",alignItems:"center"},className:"flex gap-x-4",children:[(0,i.jsx)(r.Ab,{}),(0,i.jsx)(F.Z,{variant:"subtitle1",sx:{},children:n})]})},re=e=>{let{isOpen:n,onClose:s,isUpdate:t,dataUpdate:l,eModelID:o}=e;(0,A.useRouter)();const a=(0,W.useQueryClient)(),c=((0,Y.Z)(),ne.Ry().shape({year:ne.Rx().required("S\u1ed1 n\u0103m kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng").typeError("S\u1ed1 n\u0103m kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng")})),{control:d,watch:p,reset:g,setValue:m,handleSubmit:j}=(0,u.cI)({defaultValues:{name:"",year:null,myTemporaryYear:null},resolver:(0,ee.X)(c)}),f=p();(0,h.useEffect)((()=>{t&&l?g({...l,myTemporaryYear:new Date("01-01-".concat(l.year)).getTime()/1e3},{keepDefaultValues:!0}):g()}),[l,n]);const y=(0,W.useMutation)(H.aq.upload),Z=(0,W.useMutation)(H.TZ.create,{onSuccess:e=>{a.invalidateQueries(["lineoffQuery",o]),s(),g(),V.dN.success("T\u1ea1o m\u1edbi th\xe0nh c\xf4ng")},onError:e=>{V.dN.error(e.response.data.resultMessage)}}),b=(0,W.useMutation)(H.TZ.update,{onSuccess:e=>{a.invalidateQueries(["lineoffQuery",o]),s(),g(),V.dN.success("C\u1eadp nh\u1eadt th\xe0nh c\xf4ng")}});return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(O,{isOpen:n,onClose:()=>{g(),s()},maxWidth:"sm",title:t?"CH\u1ec8NH S\u1eecA LINE-OFF":"T\u1ea0O M\u1edaI LINE-OFF",children:(0,i.jsxs)("form",{onSubmit:j((e=>{o?t?b.mutateAsync({...e,eModelID:o}):Z.mutateAsync({...e,eModelID:o}):(V.dN.error("Vui l\xf2ng thao t\xe1c l\u1ea1i"),s())}),(e=>{(0,V.lQ)(e)})),children:[(0,i.jsx)(J.Z,{children:(0,i.jsxs)(_.ZP,{item:!0,container:!0,sx:{},spacing:"27px",children:[(0,i.jsx)(_.ZP,{container:!0,item:!0,xs:12,children:(0,i.jsx)(x.Z,{className:"flex flex-col gap-[27px] min-w-[200px] mx-auto items-center",children:(0,i.jsxs)(x.Z,{sx:{position:"relative",width:"150px",height:"150px"," img":{objectFit:"cover"},mb:"16px"},children:[(0,i.jsx)(te(),{width:150,height:150,src:f.icon||"https://via.placeholder.com/150",alt:"brand-image"}),(0,i.jsxs)("label",{style:{position:"absolute",right:"-9px",bottom:"-9px"},children:[(0,i.jsx)("input",{type:"file",accept:"image/*",style:{display:"none"},onChange:async e=>{console.log(e.currentTarget.files[0]);await y.mutateAsync(e.currentTarget.files[0],{onSuccess:e=>{e&&m("icon",e.fileUrl)},onError:e=>{console.log(e)}})}}),(0,i.jsx)(v.Z,{component:"span",sx:{bgcolor:"#ef5d22",borderRadius:"50%"," svg":{fill:"#FFF"},"&:hover":{"&.MuiIconButton-root":{bgcolor:"#ec5011"}}},children:(0,i.jsx)(r.jk,{})})]})]})})}),(0,i.jsx)(_.ZP,{item:!0,xs:12,children:(0,i.jsx)(x.Z,{children:(0,i.jsxs)(_.ZP,{container:!0,item:!0,xs:12,spacing:"27px",children:[(0,i.jsxs)(_.ZP,{item:!0,xs:12,children:[(0,i.jsx)(x.Z,{sx:{mb:"27px"},children:(0,i.jsx)(le,{title:"N\u0103m c\u1ea5u h\xecnh t\xe0i li\u1ec7u s\u1ebd quy\u1ebft \u0111\u1ecbnh nh\u1eefng t\xe0i li\u1ec7u trong line-off n\xe0y \u0111\u01b0\u1ee3c c\xf4ng khai hay kh\xf4ng"})}),(0,i.jsx)(I.Zd,{control:d,name:"myTemporaryYear",label:"N\u0102M C\u1ea4U H\xccNH T\xc0I LI\u1ec6U",required:!0,labelSx:{whiteSpace:"nowrap"},openTo:"year",views:["year"],onChange1:e=>{const n=new Date(e).getFullYear();m("name",n),m("year",n)}})]}),(0,i.jsx)(_.ZP,{item:!0,xs:12,children:(0,i.jsx)(I.qR,{control:d,name:"name",label:"TI\xcaU \u0110\u1ec0 HI\u1ec2N TH\u1eca",required:!0,labelSx:{whiteSpace:"nowrap"}})})]})})})]})}),(0,i.jsx)(T.Z,{}),(0,i.jsxs)($.Z,{sx:{justifyContent:"flex-end"},children:[(0,i.jsx)(G.Z,{type:"button",variant:"text",onClick:()=>{s(),g()},children:"\u0110\xf3ng"}),(0,i.jsx)(U.Z,{variant:"contained",loading:Z.isLoading||b.isLoading,type:"submit",children:t?"L\u01b0u":"T\u1ea1o"})]})]})})})},oe=e=>{let{isOpen:n,onClose:s,isUpdate:t,dataUpdate:l,eModelID:r}=e;(0,A.useRouter)();const o=(0,W.useQueryClient)(),a=((0,Y.Z)(),ne.Ry().shape({dtcCode:ne.Z_().required("M\xe3 kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng"),name:ne.Z_().required("T\xean kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng"),description:ne.Z_().required("M\xf4 t\u1ea3 kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng")})),{control:c,watch:d,reset:p,setValue:g,handleSubmit:m}=(0,u.cI)({defaultValues:{dtcCode:"",name:"",description:"",possibleCause:"",referenceCircuitDiagram:"",referenceLocation:""},resolver:(0,ee.X)(a)}),j=d();(0,h.useEffect)((()=>{console.log("effect"),t&&l?(console.log("reset DATE"),p(l,{keepDefaultValues:!0})):p()}),[l,n]);const f=(0,W.useMutation)(H.j3.create,{onSuccess:e=>{o.invalidateQueries("dtcsQuery"),s(),p(),V.dN.success("T\u1ea1o m\u1edbi th\xe0nh c\xf4ng")},onError:e=>{V.dN.error(e.response.data.resultMessage)}}),y=(0,W.useMutation)(H.j3.update,{onSuccess:e=>{o.invalidateQueries("dtcsQuery"),s(),p(),V.dN.success("C\u1eadp nh\u1eadt th\xe0nh c\xf4ng")}}),Z=(0,W.useMutation)(H.aq.upload);return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(O,{isOpen:n,onClose:()=>{p(),s()},maxWidth:"sm",title:t?"CH\u1ec8NH S\u1eecA DTC":"T\u1ea0O M\u1edaI DTC",children:(0,i.jsxs)("form",{onSubmit:m((e=>{r?t?(y.mutateAsync({...e}),console.log(e)):f.mutateAsync({...e,eModelID:r}):(V.dN.error("Vui l\xf2ng thao t\xe1c l\u1ea1i"),s())}),(e=>{(0,V.lQ)(e)})),children:[(0,i.jsx)(J.Z,{children:(0,i.jsx)(_.ZP,{item:!0,container:!0,sx:{},spacing:"27px",children:(0,i.jsxs)(_.ZP,{container:!0,item:!0,xs:12,md:12,spacing:"27px",children:[(0,i.jsx)(_.ZP,{item:!0,xs:12,children:(0,i.jsx)(I.qR,{control:c,name:"dtcCode",label:"M\xc3 CODE",required:!0,labelSx:{whiteSpace:"nowrap"}})}),(0,i.jsx)(_.ZP,{item:!0,xs:12,children:(0,i.jsx)(I.qR,{multiline:!0,minRows:1,maxRows:3,control:c,name:"name",label:"T\xcaN L\u1ed6I",required:!0,labelSx:{whiteSpace:"nowrap"}})}),(0,i.jsx)(_.ZP,{item:!0,xs:12,children:(0,i.jsx)(I.qR,{multiline:!0,minRows:1,maxRows:3,control:c,name:"description",label:"M\xd4 T\u1ea2",required:!0,labelSx:{whiteSpace:"nowrap"}})}),(0,i.jsx)(_.ZP,{item:!0,xs:12,children:(0,i.jsx)(I.qR,{multiline:!0,minRows:1,maxRows:3,control:c,label:"Possible Cause",name:"possibleCause",labelSx:{whiteSpace:"nowrap"}})}),(0,i.jsx)(_.ZP,{item:!0,xs:12,children:(0,i.jsxs)(x.Z,{children:[(0,i.jsx)(F.Z,{variant:"h3",sx:{mb:"8px",textTransform:"uppercase"},children:"Reference circuit diagram"}),(0,i.jsxs)("label",{htmlFor:"update_referenceCircuitDiagram",children:[(0,i.jsx)("input",{type:"file",accept:"image/*",id:"update_referenceCircuitDiagram",style:{display:"none"},onChange:async e=>{await Z.mutateAsync(e.currentTarget.files[0],{onSuccess:e=>{e&&g("referenceCircuitDiagram",e.fileUrl)},onError:e=>{console.log(e)}})}}),(0,i.jsx)(S.Z,{component:"span",className:"rounded-md",sx:{height:180,minWidth:150,backgroundSize:"contain",cursor:"pointer"},image:j.referenceCircuitDiagram?j.referenceCircuitDiagram:"https://via.placeholder.com/150",title:"green iguana"})]})]})}),(0,i.jsx)(_.ZP,{item:!0,xs:12,children:(0,i.jsxs)(x.Z,{children:[(0,i.jsx)(F.Z,{variant:"h3",sx:{mb:"8px",textTransform:"uppercase"},children:"Reference location"}),(0,i.jsxs)("label",{htmlFor:"update_referenceLocation",children:[(0,i.jsx)("input",{type:"file",accept:"image/*",id:"update_referenceLocation",style:{display:"none"},onChange:async e=>{await Z.mutateAsync(e.currentTarget.files[0],{onSuccess:e=>{e&&g("referenceLocation",e.fileUrl)},onError:e=>{console.log(e)}})}}),(0,i.jsx)(S.Z,{component:"span",className:"rounded-md",sx:{height:180,minWidth:150,backgroundSize:"contain",cursor:"pointer"},image:j.referenceLocation?j.referenceLocation:"https://via.placeholder.com/150",title:"green iguana"})]})]})})]})})}),(0,i.jsx)(T.Z,{}),(0,i.jsxs)($.Z,{sx:{justifyContent:"flex-end"},children:[(0,i.jsx)(G.Z,{type:"button",variant:"text",onClick:()=>{s(),p()},children:"\u0110\xf3ng"}),(0,i.jsx)(U.Z,{variant:"contained",loading:f.isLoading,type:"submit",children:t?"L\u01b0u":"T\u1ea1o"})]})]})})})},ae=e=>{let{isOpen:n,onClose:s,isUpdate:t,dataUpdate:l,lineOffId:r,systemFileType:o}=e;(0,A.useRouter)();const a=(0,W.useQueryClient)(),c=((0,Y.Z)(),ne.Ry().shape({name:ne.Z_().required("T\xean folder kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng").typeError("Kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng"),systemFileCategory:ne.Z_().required("Lo\u1ea1i t\xe0i li\u1ec7u kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng")})),{control:d,watch:x,reset:p,setValue:g,handleSubmit:m}=(0,u.cI)({defaultValues:{name:"",systemFileCategory:"1"},resolver:(0,ee.X)(c)});x();(0,h.useEffect)((()=>{t&&l?p({...l},{keepDefaultValues:!0}):p()}),[l,n]);const j=(0,W.useMutation)(H.xl.create,{onSuccess:e=>{a.invalidateQueries(["foldersLineoffQuery",r]),s(),p(),V.dN.success("T\u1ea1o m\u1edbi th\xe0nh c\xf4ng")},onError:e=>{V.dN.error(e.response.data.resultMessage)}}),f=(0,W.useMutation)(H.xl.update,{onSuccess:e=>{a.invalidateQueries(["foldersLineoffQuery",r]),s(),p(),V.dN.success("C\u1eadp nh\u1eadt th\xe0nh c\xf4ng")}});return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(O,{isOpen:n,onClose:()=>{p(),s()},maxWidth:"sm",title:t?"CH\u1ec8NH S\u1eecA SYSTEM FOLDER":"T\u1ea0O M\u1edaI SYSTEM FOLDER",children:(0,i.jsxs)("form",{onSubmit:m((e=>{console.log({...e,lineOffID:r,systemFileType:o}),r?t?f.mutateAsync({...e,lineOffID:r,systemFileType:o}):j.mutateAsync({...e,lineOffID:r,systemFileType:o}):(V.dN.error("Vui l\xf2ng thao t\xe1c l\u1ea1i"),s())}),(e=>{(0,V.lQ)(e)})),children:[(0,i.jsx)(J.Z,{children:(0,i.jsxs)(_.ZP,{item:!0,container:!0,sx:{},spacing:"27px",children:[(0,i.jsx)(_.ZP,{item:!0,xs:12,children:(0,i.jsx)(I.qR,{label:"T\xcaN FOLDER SYSTEM",control:d,name:"name"})}),(0,i.jsx)(_.ZP,{item:!0,xs:12,children:(0,i.jsx)(I.iw,{optionsList:[{value:"1",label:"Wiring Diagram"},{value:"2",label:"Specifications"},{value:"3",label:"Timing Belt/Chain"},{value:"4",label:"Trouble Shooting Guide"},{value:"5",label:"Transmission Manual"}],label:"LO\u1ea0I T\xcdNH N\u0102NG",control:d,name:"systemFileCategory"})})]})}),(0,i.jsx)(T.Z,{}),(0,i.jsxs)($.Z,{sx:{justifyContent:"flex-end"},children:[(0,i.jsx)(G.Z,{type:"button",variant:"text",onClick:()=>{s(),p()},children:"\u0110\xf3ng"}),(0,i.jsx)(U.Z,{variant:"contained",loading:j.isLoading||f.isLoading,type:"submit",children:t?"L\u01b0u":"T\u1ea1o"})]})]})})})},ce=e=>{let{isOpen:n,onClose:s,isUpdate:t,dataUpdate:l,lineOffID:r,parentID:o,systemFileCategory:a}=e;(0,A.useRouter)();const c=(0,W.useQueryClient)(),d=((0,Y.Z)(),ne.Ry().shape({name:ne.Z_().required("T\xean kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng")})),{control:x,watch:p,reset:g,setValue:m,handleSubmit:j,formState:f}=(0,u.cI)({defaultValues:{lineOffID:"",name:"",systemFileType:1},resolver:(0,ee.X)(d)});p();(0,h.useEffect)((()=>{g(t&&l?l:{lineOffID:"",name:"",systemFileType:1})}),[l,n]);const y=(0,W.useMutation)(H.xl.create,{onSuccess:e=>{c.invalidateQueries(["foldersOfParentQuery",o]),s(),g(),V.dN.success("T\u1ea1o m\u1edbi th\xe0nh c\xf4ng")},onError:e=>{V.dN.error(e.response.data.resultMessage)}}),Z=(0,W.useMutation)(H.xl.update,{onSuccess:e=>{c.invalidateQueries(["foldersOfParentQuery",l.parentID]),s(),g(),V.dN.success("C\u1eadp nh\u1eadt th\xe0nh c\xf4ng")}});return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(O,{isOpen:n,onClose:()=>{g(),s()},maxWidth:"sm",title:t?"CH\u1ec8NH S\u1eecA FOLDER":"T\u1ea0O M\u1edaI FOLDER CH\u1ee8A FOLDER SYSTEM",children:(0,i.jsxs)("form",{onSubmit:j((e=>{r&&o?t?Z.mutateAsync({...e}):a?y.mutateAsync({...e,lineOffID:r,parentID:o,systemFileCategory:a}):V.dN.error("L\u1ed7i kh\xf4ng nh\u1eadn \u0111\u1ecbnh"):(V.dN.error("Vui l\xf2ng thao t\xe1c l\u1ea1i"),s())}),(e=>{(0,V.lQ)(e)})),children:[(0,i.jsx)(J.Z,{children:(0,i.jsx)(_.ZP,{item:!0,container:!0,sx:{},spacing:"27px",children:(0,i.jsx)(_.ZP,{container:!0,item:!0,xs:12,md:12,spacing:"27px",children:(0,i.jsx)(_.ZP,{item:!0,xs:12,children:(0,i.jsx)(I.qR,{control:x,name:"name",label:"T\xcaN FOLDER SYSTEM",required:!0,labelSx:{whiteSpace:"nowrap"}})})})})}),(0,i.jsx)(T.Z,{}),(0,i.jsxs)($.Z,{sx:{justifyContent:"flex-end"},children:[(0,i.jsx)(G.Z,{type:"button",variant:"text",onClick:()=>{s(),g()},children:"\u0110\xf3ng"}),(0,i.jsx)(U.Z,{variant:"contained",disabled:!f.isDirty,loading:y.isLoading,type:"submit",children:t?"L\u01b0u":"T\u1ea1o"})]})]})})})};var de=s(18377);const xe=e=>{let{isOpen:n,onClose:s,isUpdate:t,dataUpdate:l,lineOffID:r,parentID:o,systemFileCategory:a}=e;(0,A.useRouter)();const c=(0,W.useQueryClient)(),d=((0,Y.Z)(),ne.Ry().shape({name:ne.Z_().required("T\xean kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng")})),{control:x,watch:h,reset:p,setValue:g,handleSubmit:m}=(0,u.cI)({defaultValues:{lineOffID:"",name:"",systemFileType:2},resolver:(0,ee.X)(d)}),j=(h(),(0,W.useMutation)(H.xl.create,{onSuccess:e=>{c.invalidateQueries(["foldersOfParentQuery",o]),s(),p(),V.dN.success("T\u1ea1o m\u1edbi th\xe0nh c\xf4ng")},onError:e=>{V.dN.error(e.response.data.resultMessage)}})),f=(0,W.useMutation)(H.xl.update,{onSuccess:e=>{c.invalidateQueries(["foldersOfSystemDetailQuery",o]),s(),p(),V.dN.success("C\u1eadp nh\u1eadt th\xe0nh c\xf4ng")}});return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(O,{isOpen:n,onClose:()=>{p(),s()},maxWidth:"sm",title:t?"CH\u1ec8NH S\u1eecA FOLDER":"T\u1ea0O M\u1edaI FOLDER CH\u1ee8A T\xc0I LI\u1ec6U PDF",children:(0,i.jsxs)("form",{onSubmit:m((e=>{r&&o?t?f.mutateAsync({...e}):a?j.mutateAsync({...e,lineOffID:r,parentID:o,systemFileCategory:a}):V.dN.error("L\u1ed7i kh\xf4ng nh\u1eadn \u0111\u1ecbnh"):(V.dN.error("Vui l\xf2ng thao t\xe1c l\u1ea1i"),s())}),(e=>{(0,V.lQ)(e)})),children:[(0,i.jsx)(J.Z,{children:(0,i.jsx)(_.ZP,{item:!0,container:!0,sx:{},spacing:"27px",children:(0,i.jsx)(_.ZP,{container:!0,item:!0,xs:12,md:12,spacing:"27px",children:(0,i.jsx)(_.ZP,{item:!0,xs:12,children:(0,i.jsx)(I.qR,{control:x,name:"name",label:"T\xcaN FOLDER SYSTEM",required:!0,labelSx:{whiteSpace:"nowrap"}})})})})}),(0,i.jsx)(T.Z,{}),(0,i.jsxs)($.Z,{sx:{justifyContent:"flex-end"},children:[(0,i.jsx)(G.Z,{type:"button",variant:"text",onClick:()=>{s(),p()},children:"\u0110\xf3ng"}),(0,i.jsx)(U.Z,{variant:"contained",loading:j.isLoading,type:"submit",children:t?"L\u01b0u":"T\u1ea1o"})]})]})})})},he=e=>{let{isOpen:n,onClose:s,lineOffID:t,parentID:l,parentName:r,systemFileCategory:o}=e;const a=(0,z.q)(),c=(0,z.q)();return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(b.Z,{open:n,onClose:s,fullWidth:!0,maxWidth:"sm",children:[(0,i.jsx)(de.Z,{sx:{padding:"24px 27px 0 27px"},children:(0,i.jsxs)(F.Z,{children:["Folder cha: ",(0,i.jsx)("span",{style:{fontWeight:"bold",fontSize:"16px"},children:r})]})}),(0,i.jsx)(X.Z,{sx:{p:"27px"},children:(0,i.jsxs)(_.ZP,{container:!0,spacing:"27px",children:[(0,i.jsx)(_.ZP,{item:!0,xs:6,children:(0,i.jsx)(G.Z,{size:"small",fullWidth:!0,sx:{p:"27px"},onClick:()=>{a.onOpen(),s()},children:"T\u1ea1o folder con ch\u1ee9a folder"})}),(0,i.jsx)(_.ZP,{item:!0,xs:6,children:(0,i.jsxs)(G.Z,{size:"small",color:"secondary",fullWidth:!0,sx:{p:"27px"},onClick:()=>{c.onOpen(),s()},children:["T\u1ea1o folder con ch\u1ee9a t\xe0i li\u1ec7u ","(PDF)"]})})]})})]}),(0,i.jsx)(ce,{dataUpdate:null,lineOffID:t,parentID:l,isOpen:a.isOpen,onClose:a.onClose,systemFileCategory:o}),(0,i.jsx)(xe,{dataUpdate:null,lineOffID:t,parentID:l,isOpen:c.isOpen,onClose:c.onClose,systemFileCategory:o})]})};var ue=s(46050),pe=s(51964),ge=s.n(pe),me=s(44940);const je=e=>{let{isCollapsed:n,isOpen:s,onClose:t,folderParent:l}=e;const{classes:o}=fe(),a=(0,W.useQueryClient)(),{data:c,isLoading:d}=(0,W.useQuery)(["materialsOfSystemQuery",l.id],(()=>H.GX.getAll({pageIndex:1,pageSize:100,systemFileID:l.id})),{enabled:!!l.id&&!!n,refetchOnWindowFocus:!1,keepPreviousData:!0}),h=(0,W.useMutation)((e=>Promise.all(e.map((e=>H.GX.upload(e,l.id,e.name))))),{onMutate:e=>{},onSuccess:e=>{a.invalidateQueries(["materialsOfSystemQuery",l.id])},onError:e=>{}});return(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)(O,{isOpen:s,onClose:()=>{t()},maxWidth:"lg",title:"Upload PDF files",children:[(0,i.jsxs)(J.Z,{children:[(0,i.jsxs)(F.Z,{children:["Folder: ",(0,i.jsx)("span",{style:{color:"#4a210c",fontWeight:600,fontSize:"18px"},children:l.name})]}),(0,i.jsxs)(x.Z,{sx:{mt:"36px",display:"flex",gap:"36px"},children:[(0,i.jsx)(x.Z,{sx:{width:"calc(50% - 18px)"},children:(0,i.jsx)(me.b,{multiple:!0,handleChange:e=>{(e=>{const n=[...e];h.mutateAsync(n,{onSuccess:e=>{}})})(e)},name:"file",types:["PDF"],disabled:h.isLoading,children:(0,i.jsxs)(x.Z,{className:o.uploadViewBox,children:[(0,i.jsx)(x.Z,{className:o.uploadImageIcon,children:(0,i.jsx)(r.ou,{})}),(0,i.jsx)("div",{className:"".concat(o.dragSubtitle),children:"Drag & Drog or Browse"}),(0,i.jsx)(G.Z,{sx:{p:"15px 56px"},title:"Browse files",onClick:()=>{},disabled:h.isLoading,children:"Browse files"}),(0,i.jsx)("div",{className:"".concat(o.dragNote),children:"Only PDF files"})]})})}),(0,i.jsx)(x.Z,{sx:{width:"calc(50% - 18px)",border:"1.6px solid rgba(0, 0, 0, 0.1)",borderRadius:"20px"},children:(0,i.jsx)(ge(),{style:{maxHeight:"309px",padding:"24px",minHeight:"309px",height:"100%"},children:(0,i.jsx)(x.Z,{sx:{width:"100%",height:"1000px"},children:null===c||void 0===c?void 0:c.data.items.map(((e,n)=>(0,i.jsx)("div",{children:(0,i.jsx)(F.Z,{fontSize:"16px",children:e.name})},"file-upload-".concat(n))))})})})]})]}),(0,i.jsx)($.Z,{sx:{justifyContent:"flex-end"},children:(0,i.jsx)(G.Z,{type:"button",variant:"text",onClick:()=>{t()},children:"\u0110\xf3ng"})})]})})},fe=(0,ue.ZL)()((e=>({uploadViewBox:{padding:"48px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",border:"1.6px solid #ef5d22",borderRadius:"20px",cursor:"pointer"},dragSubtitle:{fontSize:"16px",lineHeight:"24px",fontWeight:600,color:"#000000",marginBottom:"24px"},dragNote:{marginTop:"16px",fontSize:"14px",lineHeight:"20px",letterSpacing:"0.02em",color:"#000000",opacity:.4},uploadImageIcon:{" svg":{fill:"red"},opacity:.2}})));var ye=s(2676);const Ze=e=>{let{isOpen:n,onClose:s,isUpdate:t,dataUpdate:l}=e;var r;(0,A.useRouter)();const o=(0,W.useQueryClient)(),a=((0,Y.Z)(),ne.Ry().shape({dtcCode:ne.Z_().required("M\xe3 kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng"),name:ne.Z_().required("T\xean kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng"),description:ne.Z_().required("M\xf4 t\u1ea3 kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng"),eModelID:ne.Z_().required("D\xf2ng xe kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng")})),{control:c,watch:d,reset:p,setValue:g,handleSubmit:m}=(0,u.cI)({defaultValues:{brandID:"",eModelID:"",dtcCode:"",name:"",description:"",possibleCause:"",referenceCircuitDiagram:"",referenceLocation:""},resolver:(0,ee.X)(a)}),j=d();(0,h.useEffect)((()=>{t&&l?(console.log("reset DATE"),p(l,{keepDefaultValues:!0})):p()}),[l,n]);const f=(0,W.useMutation)(H.j3.create,{onSuccess:e=>{o.invalidateQueries("dtcsmanageQuery"),s(),p(),V.dN.success("T\u1ea1o m\u1edbi th\xe0nh c\xf4ng")},onError:e=>{V.dN.error(e.response.data.resultMessage)}}),y=(0,W.useMutation)(H.j3.update,{onSuccess:e=>{o.invalidateQueries("dtcsmanageQuery"),s(),p(),V.dN.success("C\u1eadp nh\u1eadt th\xe0nh c\xf4ng")}}),Z=(0,ye.Nn)(),{data:b,isLoading:C,isFetching:v}=(0,W.useQuery)(["modelsToSelect",j.brandID],(()=>j.brandID?H.Lf.getAll({brandID:j.brandID,pageIndex:1,pageSize:1e3}):void 0),{enabled:!!j.brandID,refetchOnWindowFocus:!1,keepPreviousData:!0}),D=(0,W.useMutation)(H.aq.upload);return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(O,{isOpen:n,onClose:()=>{p(),s()},maxWidth:"sm",title:t?"CH\u1ec8NH S\u1eecA DTC":"T\u1ea0O M\u1edaI DTC",children:(0,i.jsxs)("form",{onSubmit:m((e=>{j.eModelID?t?(y.mutateAsync({...e}),console.log(e)):f.mutateAsync({...e}):(V.dN.error("Vui l\xf2ng thao t\xe1c l\u1ea1i"),s())}),(e=>{(0,V.lQ)(e)})),children:[(0,i.jsx)(J.Z,{children:(0,i.jsx)(_.ZP,{item:!0,container:!0,sx:{},spacing:"27px",children:(0,i.jsxs)(_.ZP,{container:!0,item:!0,xs:12,md:12,spacing:"27px",children:[(0,i.jsx)(_.ZP,{item:!0,xs:12,children:(0,i.jsx)(I.o,{options:(null===(r=Z.data)||void 0===r?void 0:r.items)||[],getOptionLabel:e=>e.name,getOptionValue:e=>e.id,control:c,name:"brandID",label:"TH\u01af\u01a0NG HI\u1ec6U",required:!0,onChange:()=>{g("eModelID","")}})}),(0,i.jsx)(_.ZP,{item:!0,xs:12,children:(0,i.jsx)(I.o,{options:(null===b||void 0===b?void 0:b.data.items)||[],getOptionLabel:e=>e.name,getOptionValue:e=>e.id,control:c,name:"eModelID",label:"D\xd2NG XE",required:!0,noOptionsMessage:()=>{if(!j.brandID)return"Vui l\xf2ng ch\u1ecdn th\u01b0\u01a1ng hi\u1ec7u"}})}),(0,i.jsx)(_.ZP,{item:!0,xs:12,children:(0,i.jsx)(I.qR,{control:c,name:"dtcCode",label:"M\xc3 CODE",required:!0,labelSx:{whiteSpace:"nowrap"}})}),(0,i.jsx)(_.ZP,{item:!0,xs:12,children:(0,i.jsx)(I.qR,{multiline:!0,minRows:1,maxRows:3,control:c,name:"name",label:"T\xcaN L\u1ed6I",required:!0,labelSx:{whiteSpace:"nowrap"}})}),(0,i.jsx)(_.ZP,{item:!0,xs:12,children:(0,i.jsx)(I.qR,{multiline:!0,minRows:1,maxRows:3,control:c,name:"description",label:"M\xd4 T\u1ea2",required:!0,labelSx:{whiteSpace:"nowrap"}})}),(0,i.jsx)(_.ZP,{item:!0,xs:12,children:(0,i.jsx)(I.qR,{multiline:!0,minRows:1,maxRows:3,control:c,name:"possibleCause",label:"Possible Cause",labelSx:{whiteSpace:"nowrap"}})}),(0,i.jsx)(_.ZP,{item:!0,xs:12,children:(0,i.jsxs)(x.Z,{children:[(0,i.jsx)(F.Z,{variant:"h3",sx:{mb:"8px",textTransform:"uppercase"},children:"Reference circuit diagram"}),(0,i.jsxs)("label",{htmlFor:"update_referenceCircuitDiagram",children:[(0,i.jsx)("input",{type:"file",accept:"image/*",id:"update_referenceCircuitDiagram",style:{display:"none"},onChange:async e=>{await D.mutateAsync(e.currentTarget.files[0],{onSuccess:e=>{e&&g("referenceCircuitDiagram",e.fileUrl)},onError:e=>{console.log(e)}})}}),(0,i.jsx)(S.Z,{component:"span",className:"rounded-md",sx:{height:180,minWidth:150,backgroundSize:"contain",cursor:"pointer"},image:j.referenceCircuitDiagram?j.referenceCircuitDiagram:"https://via.placeholder.com/150",title:"green iguana"})]})]})}),(0,i.jsx)(_.ZP,{item:!0,xs:12,children:(0,i.jsxs)(x.Z,{children:[(0,i.jsx)(F.Z,{variant:"h3",sx:{mb:"8px",textTransform:"uppercase"},children:"Reference location"}),(0,i.jsxs)("label",{htmlFor:"update_referenceLocation",children:[(0,i.jsx)("input",{type:"file",accept:"image/*",id:"update_referenceLocation",style:{display:"none"},onChange:async e=>{await D.mutateAsync(e.currentTarget.files[0],{onSuccess:e=>{e&&g("referenceLocation",e.fileUrl)},onError:e=>{console.log(e)}})}}),(0,i.jsx)(S.Z,{component:"span",className:"rounded-md",sx:{height:180,minWidth:150,backgroundSize:"contain",cursor:"pointer"},image:j.referenceLocation?j.referenceLocation:"https://via.placeholder.com/150",title:"green iguana"})]})]})})]})})}),(0,i.jsx)(T.Z,{}),(0,i.jsxs)($.Z,{sx:{justifyContent:"flex-end"},children:[(0,i.jsx)(G.Z,{type:"button",variant:"text",onClick:()=>{s(),p()},children:"\u0110\xf3ng"}),(0,i.jsx)(U.Z,{variant:"contained",loading:f.isLoading,type:"submit",children:t?"L\u01b0u":"T\u1ea1o"})]})]})})})};var be=s(81284);const Ce=e=>{let{sx:n,isOpen:s,onClose:t,title:l,content:r,isLoading:o,colorButton:a="primary",cancel:c="H\u1ee7y b\u1ecf",ok:d="\u0110\u1ed3ng \xfd",handleFunction:h,cancelButtonProps:u,okButtonProps:p}=e;return(0,i.jsxs)(b.Z,{open:s,onClose:()=>{t()},sx:{...n},children:[(0,i.jsx)(x.Z,{sx:{padding:"24px 16px 0 16px"},children:(0,i.jsx)(F.Z,{variant:"h1",align:"center",component:"h1",fontSize:"1.5rem",children:l})}),(0,i.jsx)(B.Z,{sx:{maxWidth:400,margin:"12px"},children:(0,i.jsx)(F.Z,{align:"center",fontSize:"1rem",children:r})}),(0,i.jsx)(X.Z,{children:(0,i.jsxs)(_.ZP,{container:!0,spacing:1,children:[(0,i.jsx)(_.ZP,{item:!0,xs:6,children:(0,i.jsx)(G.Z,{size:"small",variant:"text",onClick:t,disabled:o,fullWidth:!0,...u,children:c})}),(0,i.jsx)(_.ZP,{item:!0,xs:6,children:(0,i.jsx)(U.Z,{variant:"contained",size:"small",onClick:()=>h(),loading:o,color:a,fullWidth:!0,...p,children:d})})]})})]})},ve=e=>{let{isOpen:n,onClose:s,dataModel:t}=e;const l=(0,z.q)(),o=(0,W.useQueryClient)(),[a,c]=(0,h.useState)(null),d=(0,W.useMutation)((e=>Promise.all(e.map((e=>H.j3.importExcel(e,(null===t||void 0===t?void 0:t.id)||""))))),{onMutate:e=>{},onSuccess:e=>{l.onClose(),o.invalidateQueries(["dtcsQuery",null===t||void 0===t?void 0:t.id]),V.dN.success("Import File Excel th\xe0nh c\xf4ng!")},onError:e=>{V.dN.error(e)}});return(0,i.jsxs)(O,{isOpen:n,onClose:()=>{s(),c(null)},sx:{},maxWidth:"sm",title:"IMPORT D\u1eee LI\u1ec6U B\u1eb0NG FILE EXCEL",children:[(0,i.jsxs)(J.Z,{sx:{},children:[(0,i.jsxs)(F.Z,{children:["Brand: ",(0,i.jsx)("span",{style:{color:"#4a210c",fontWeight:600,fontSize:"16px"},children:null===t||void 0===t?void 0:t.brandName})]}),(0,i.jsxs)(F.Z,{children:["Model: ",(0,i.jsx)("span",{style:{color:"#4a210c",fontWeight:600,fontSize:"16px"},children:null===t||void 0===t?void 0:t.name})]}),(0,i.jsx)(x.Z,{className:"flex justify-center items-center mt-[36px]",children:(0,i.jsx)(x.Z,{sx:{width:"100%"},children:(0,i.jsx)(Re,{handleUpload:e=>{c(e),console.log("ban vua upload",e)},types:["xlsx"],description:"Only XLSX files"})})})]}),(0,i.jsx)(T.Z,{}),a?(0,i.jsxs)(x.Z,{children:[(0,i.jsxs)(x.Z,{sx:{p:"27px"},children:[(0,i.jsxs)(x.Z,{sx:{display:"flex",bgcolor:"rgb(243, 251, 239)",alignItems:"center",p:"0 16px"},children:[(0,i.jsx)(x.Z,{sx:{display:"flex",height:"100%",mr:"12px"," svg":{fill:"rgb(137, 217, 100)",width:"20px",height:"20px"}},onClick:()=>{console.log(a)},children:(0,i.jsx)(r.eW,{})}),(0,i.jsxs)(F.Z,{sx:{p:"8px 0"},color:"rgb(54, 86, 40)",fontSize:"16px",children:["You have uploaded ",(0,i.jsx)("span",{style:{fontSize:"18px",fontWeight:"bold",color:"text.dark"},children:"1"})," files!"]})]}),(0,i.jsx)(x.Z,{sx:{mt:"18px",display:"flex",justifyContent:"space-between",fontSize:"16px",color:"text.dark"},children:(0,i.jsx)(L.Z,{sx:{width:"100%"},children:(0,i.jsxs)(be.ZP,{children:[(0,i.jsx)(R.Z,{sx:{overflow:"hidden",textOverflow:"ellipsis"},primary:null===a||void 0===a?void 0:a.name}),(0,i.jsxs)("span",{children:[null===a||void 0===a?void 0:a.size," bytes"]})]})})})]}),(0,i.jsx)(T.Z,{})]}):null,(0,i.jsxs)($.Z,{sx:{justifyContent:"flex-end"},children:[(0,i.jsx)(G.Z,{type:"button",variant:"text",onClick:()=>{s(),c(null)},children:"\u0110\xf3ng"}),(0,i.jsx)(G.Z,{onClick:l.onOpen,variant:"contained",disabled:!a,children:"Import"})]}),(0,i.jsx)(Ce,{handleFunction:()=>{d.mutateAsync([a],{onSuccess:e=>{}})},content:(0,i.jsxs)(i.Fragment,{children:["B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn mu\u1ed1n th\u1ef1c hi\u1ec7n thao t\xe1c upload nhanh d\u1eef li\u1ec7u b\u1eb1ng file excel cho h\xe3ng xe"," ",(0,i.jsx)("span",{style:{color:"#ef5d22"},children:null===t||void 0===t?void 0:t.brandName})," v\xe0 d\xf2ng xe"," ",(0,i.jsx)("span",{style:{color:"#ef5d22"},children:null===t||void 0===t?void 0:t.name}),". H\xe0nh \u0111\u1ed9ng n\xe0y kh\xf4ng th\u1ec3 ho\xe0n t\xe1c \u0111\u01b0\u1ee3c"]}),title:"X\xc1C NH\u1eacN IMPORT D\u1eee LI\u1ec6U",isOpen:l.isOpen,onClose:l.onClose,isLoading:d.isLoading})]})},Ie=e=>{let{isOpen:n,onClose:s,isUpdate:t,dataUpdate:l}=e;(0,A.useRouter)();const r=(0,W.useQueryClient)(),o=((0,Y.Z)(),ne.Ry().shape({name:ne.Z_().required("T\xean kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng"),monthExp:ne.Rx().typeError("Kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng").min(1,"Kh\xf4ng \u0111\u01b0\u1ee3c nh\u1ecf h\u01a1n 1"),description:ne.Z_().required("M\xf4 t\u1ea3 kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng"),price:ne.Rx().required("Gi\xe1 ti\u1ec1n kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng")})),{control:a,watch:c,reset:d,setValue:x,handleSubmit:p}=(0,u.cI)({defaultValues:{name:"",price:0,monthExp:0,packageType:1,description:""},resolver:(0,ee.X)(o)});c();(0,h.useEffect)((()=>{t&&l?d({...l},{keepDefaultValues:!0}):d()}),[l,n]);const g=(0,W.useMutation)(H.NH.create,{onSuccess:e=>{r.invalidateQueries("packagesListPage"),s(),d(),V.dN.success("T\u1ea1o m\u1edbi th\xe0nh c\xf4ng")},onError:e=>{V.dN.error(e.response.data.resultMessage)}}),m=(0,W.useMutation)(H.NH.update,{onSuccess:e=>{r.invalidateQueries("packagesListPage"),V.dN.success("C\u1eadp nh\u1eadt th\xe0nh c\xf4ng")}});return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(O,{isOpen:n,onClose:()=>{g.isLoading||m.isLoading||(d(),s())},maxWidth:"sm",title:t?"CH\u1ec8NH S\u1eecA LINE-OFF":"T\u1ea0O M\u1edaI LINE-OFF",children:(0,i.jsxs)("form",{onSubmit:p((e=>{console.log(e),t?m.mutateAsync({...e}):g.mutateAsync({...e})}),(e=>{(0,V.lQ)(e)})),children:[(0,i.jsx)(J.Z,{children:(0,i.jsxs)(_.ZP,{item:!0,container:!0,sx:{},spacing:"27px",children:[(0,i.jsx)(_.ZP,{item:!0,xs:12,children:(0,i.jsx)(I.o,{options:[{value:1,label:"Car & Light Truck"},{value:2,label:"Heavy Truck & Heavy Equipment"}],getOptionLabel:e=>e.label,getOptionValue:e=>e.value,control:a,name:"packageType",label:"LO\u1ea0I G\xd3I",required:!0})}),(0,i.jsx)(_.ZP,{item:!0,xs:12,children:(0,i.jsx)(I.qR,{control:a,name:"name",label:"T\xcaN G\xd3I",required:!0})}),(0,i.jsx)(_.ZP,{item:!0,xs:12,children:(0,i.jsx)(I.LN,{control:a,name:"monthExp",label:"TH\u1edcI H\u1ea0N G\xd3I",required:!0})}),(0,i.jsx)(_.ZP,{item:!0,xs:12,children:(0,i.jsx)(I.oP,{control:a,name:"price",label:"GI\xc1 B\xc1N",required:!0})}),(0,i.jsx)(_.ZP,{item:!0,xs:12,children:(0,i.jsx)(I.qR,{multiline:!0,minRows:1,maxRows:3,control:a,name:"description",label:"M\xd4 T\u1ea2",required:!0})})]})}),(0,i.jsx)(T.Z,{}),(0,i.jsxs)($.Z,{sx:{justifyContent:"flex-end"},children:[(0,i.jsx)(G.Z,{type:"button",variant:"text",onClick:()=>{s(),d()},disabled:g.isLoading||m.isLoading,children:"\u0110\xf3ng"}),(0,i.jsx)(U.Z,{variant:"contained",loading:g.isLoading||m.isLoading,type:"submit",children:t?"L\u01b0u":"T\u1ea1o"})]})]})})})},Oe=e=>{let{isOpen:n,onClose:s,dataUpdate:t}=e;const l=(0,W.useQueryClient)(),r=ne.Ry().shape({}),{control:o,watch:a,reset:c,setValue:d,handleSubmit:p}=(0,u.cI)({defaultValues:{id:""},resolver:(0,ee.X)(r)});a();(0,h.useEffect)((()=>{t&&c({...t})}),[t]);const g=(0,W.useMutation)(H.BG.update,{onSuccess:()=>{l.invalidateQueries("customers"),V.dN.success("C\u1eadp nh\u1eadt th\xe0nh c\xf4ng"),s()}});return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(O,{isOpen:n,onClose:()=>{c(),s()},maxWidth:"sm",title:"K\xcdCH HO\u1ea0T T\xc0I KHO\u1ea2N TH\u1ee6 C\xd4NG",children:(0,i.jsxs)("form",{onSubmit:p((e=>{g.mutateAsync({id:e.id,openCar:e.openCar,openTruct:e.openTruct})}),(e=>{(0,V.lQ)(e)})),children:[(0,i.jsxs)(J.Z,{children:[(0,i.jsx)(x.Z,{sx:{p:2,bgcolor:"#F1A9341a",mb:"27px"},children:(0,i.jsx)(F.Z,{variant:"subtitle1",children:"L\u01b0u \xfd: t\xednh n\u0103ng n\xe0y h\u1ed7 tr\u1ee3 qu\u1ea3n l\xfd k\xedch ho\u1ea1t to\xe0n quy\u1ec1n t\xednh n\u0103ng xem t\xe0i li\u1ec7u v\xe0 DTC c\u1ee7a t\u1eebng g\xf3i th\xe0nh vi\xean kh\xf4ng gi\u1edbi h\u1ea1n th\u1eddi gian"})}),(0,i.jsxs)(_.ZP,{container:!0,spacing:"27px",children:[(0,i.jsx)(_.ZP,{item:!0,xs:12,children:(0,i.jsx)(I.qR,{name:"email",control:o,label:"EMAIL"})}),(0,i.jsx)(_.ZP,{item:!0,xs:12,children:(0,i.jsx)(I.he,{name:"openCar",control:o,label:"TO\xc0N QUY\u1ec0N CAR & LIGHT TRUCK"})}),(0,i.jsx)(_.ZP,{item:!0,xs:12,children:(0,i.jsx)(I.he,{name:"openTruct",control:o,label:"TO\xc0N QUY\u1ec0N HEAVY TRUCK & HEAVY EQUIPMENT"})})]})]}),(0,i.jsx)(T.Z,{}),(0,i.jsxs)($.Z,{sx:{justifyContent:"flex-end"},children:[(0,i.jsx)(G.Z,{type:"button",variant:"text",onClick:()=>{s(),c()},children:"\u0110\xf3ng"}),(0,i.jsx)(U.Z,{variant:"contained",loading:g.isLoading,type:"submit",children:"C\u1eadp nh\u1eadt"})]})]})})})},De=e=>{let{isOpen:n,onClose:s}=e;var t;const l=(0,z.q)(),o=(0,W.useQueryClient)(),[a,c]=(0,h.useState)(null),d=ne.Ry().shape({eModelID:ne.Z_().required("D\xf2ng xe kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng")}),{control:p,watch:g,reset:m,setValue:j,handleSubmit:f}=(0,u.cI)({defaultValues:{brandID:"",brandName:"",eModelName:"",eModelID:""},resolver:(0,ee.X)(d)}),y=g(),Z=(0,ye.Nn)(),{data:b,isLoading:C,isFetching:v}=(0,W.useQuery)(["modelsToSelect",y.brandID],(()=>y.brandID?H.Lf.getAll({brandID:y.brandID,pageIndex:1,pageSize:1e3}):void 0),{enabled:!!y.brandID,refetchOnWindowFocus:!1,keepPreviousData:!1}),D=(0,W.useMutation)((e=>Promise.all(e.map((e=>H.j3.importExcel(e,y.eModelID||""))))),{onMutate:e=>{},onSuccess:e=>{o.invalidateQueries("dtcsmanageQuery"),l.onClose(),c(null),s(),m(),V.dN.success("Import File Excel th\xe0nh c\xf4ng!")},onError:e=>{(0,V.dB)(e),l.onClose(),c(null),s(),m()}});return(0,i.jsxs)(O,{isOpen:n,onClose:()=>{s(),c(null),m()},sx:{},maxWidth:"sm",title:"IMPORT D\u1eee LI\u1ec6U B\u1eb0NG FILE EXCEL",children:[(0,i.jsxs)(J.Z,{sx:{},children:[(0,i.jsxs)(_.ZP,{container:!0,item:!0,xs:12,md:12,spacing:"27px",children:[(0,i.jsx)(_.ZP,{item:!0,xs:12,children:(0,i.jsx)(I.o,{options:(null===(t=Z.data)||void 0===t?void 0:t.items)||[],getOptionLabel:e=>e.name,getOptionValue:e=>e.id,control:p,name:"brandID",label:"TH\u01af\u01a0NG HI\u1ec6U",required:!0,onChange:e=>{j("brandName",e.name),j("eModelID","")}})}),(0,i.jsx)(_.ZP,{item:!0,xs:12,children:(0,i.jsx)(I.o,{options:(null===b||void 0===b?void 0:b.data.items)||[],getOptionLabel:e=>e.name,getOptionValue:e=>e.id,control:p,name:"eModelID",label:"D\xd2NG XE",required:!0,noOptionsMessage:()=>{if(!y.brandID)return"Vui l\xf2ng ch\u1ecdn th\u01b0\u01a1ng hi\u1ec7u"},onChange:e=>{j("eModelName",e.name)}})})]}),(0,i.jsx)(x.Z,{className:"flex justify-center items-center mt-[36px]",children:(0,i.jsx)(x.Z,{sx:{width:"100%"},children:(0,i.jsx)(Re,{handleUpload:e=>{c(e),console.log("ban vua upload",e)},types:["xlsx"],description:"Only XLSX files"})})})]}),(0,i.jsx)(T.Z,{}),a?(0,i.jsxs)(x.Z,{children:[(0,i.jsxs)(x.Z,{sx:{p:"27px"},children:[(0,i.jsxs)(x.Z,{sx:{display:"flex",bgcolor:"rgb(243, 251, 239)",alignItems:"center",p:"0 16px"},children:[(0,i.jsx)(x.Z,{sx:{display:"flex",height:"100%",mr:"12px"," svg":{fill:"rgb(137, 217, 100)",width:"20px",height:"20px"}},onClick:()=>{console.log(a)},children:(0,i.jsx)(r.eW,{})}),(0,i.jsxs)(F.Z,{sx:{p:"8px 0"},color:"rgb(54, 86, 40)",fontSize:"16px",children:["You have uploaded ",(0,i.jsx)("span",{style:{fontSize:"18px",fontWeight:"bold",color:"text.dark"},children:"1"})," files!"]})]}),(0,i.jsx)(x.Z,{sx:{mt:"18px",display:"flex",justifyContent:"space-between",fontSize:"16px",color:"text.dark"},children:(0,i.jsx)(L.Z,{sx:{width:"100%"},children:(0,i.jsxs)(be.ZP,{children:[(0,i.jsx)(R.Z,{sx:{overflow:"hidden",textOverflow:"ellipsis"},primary:null===a||void 0===a?void 0:a.name}),(0,i.jsxs)("span",{children:[null===a||void 0===a?void 0:a.size," bytes"]})]})})})]}),(0,i.jsx)(T.Z,{})]}):null,(0,i.jsxs)($.Z,{sx:{justifyContent:"flex-end"},children:[(0,i.jsx)(G.Z,{type:"button",variant:"text",onClick:()=>{s(),m(),c(null)},children:"\u0110\xf3ng"}),(0,i.jsx)(G.Z,{onClick:()=>{a&&y.eModelID?l.onOpen():V.dN.error("D\xf2ng xe kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng")},variant:"contained",disabled:!a,children:"Import"})]}),(0,i.jsx)(Ce,{handleFunction:()=>{a&&y.eModelID?D.mutateAsync([a],{onSuccess:e=>{}}):V.dN.error("D\xf2ng xe kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng")},content:(0,i.jsxs)(i.Fragment,{children:["B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn mu\u1ed1n th\u1ef1c hi\u1ec7n thao t\xe1c upload nhanh d\u1eef li\u1ec7u b\u1eb1ng file excel cho h\xe3ng xe"," ",(0,i.jsx)("span",{style:{color:"#ef5d22"},children:null===y||void 0===y?void 0:y.brandName})," v\xe0 d\xf2ng xe"," ",(0,i.jsx)("span",{style:{color:"#ef5d22"},children:null===y||void 0===y?void 0:y.eModelName}),". H\xe0nh \u0111\u1ed9ng n\xe0y kh\xf4ng th\u1ec3 ho\xe0n t\xe1c \u0111\u01b0\u1ee3c"]}),title:"X\xc1C NH\u1eacN IMPORT D\u1eee LI\u1ec6U",isOpen:l.isOpen,onClose:l.onClose,okButtonProps:{type:"submit"},isLoading:D.isLoading})]})},Se=e=>{let{isOpen:n,onClose:s,systemFileCategory:t}=e;var l,o;const a=(0,z.q)(),c=(0,W.useQueryClient)(),[d,p]=(0,h.useState)(null),g=ne.Ry().shape({brandID:ne.Z_().required("H\xe3ng xe kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng").typeError("Kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng"),eModelID:ne.Z_().required("D\xf2ng xe kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng").typeError("Kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng"),lineOffID:ne.Z_().required("\u0110\u1eddi xe kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng").typeError("Kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng")}),{control:m,watch:j,reset:f,setValue:y,handleSubmit:Z}=(0,u.cI)({defaultValues:{brandID:"",brandName:"",eModelName:"",eModelID:""},resolver:(0,ee.X)(g)}),b=j(),C=(0,ye.Nn)(),{data:v,isLoading:D,isFetching:S}=(0,W.useQuery)(["modelsToSelect",b.brandID],(()=>b.brandID?H.Lf.getAll({brandID:b.brandID,pageIndex:1,pageSize:1e3}):void 0),{enabled:!!b.brandID,refetchOnWindowFocus:!1,keepPreviousData:!1}),N=(0,ye.AP)(b.eModelID),w=(0,W.useMutation)((e=>Promise.all(e.map((e=>H.GX.importZipFile(e,b.lineOffID||"",t))))),{onMutate:e=>{},onSuccess:e=>{V.dN.success("Import t\xe0i li\u1ec7u th\xe0nh c\xf4ng!"),c.invalidateQueries("documentsAllQuery"),a.onClose(),s(),p(null)},onError:e=>{(0,V.dB)(e),a.onClose(),p(null),s(),f()}});return(0,i.jsxs)(O,{isOpen:n,onClose:()=>{s(),p(null),f()},sx:{},maxWidth:"sm",title:"IMPORT FOLDER T\xc0I LI\u1ec6U TH\u01af M\u1ee4C",children:[(0,i.jsxs)("form",{onSubmit:Z((e=>{console.log(e,[d]),d&&b.eModelID&&b.lineOffID?a.onOpen():V.dN.error("D\xf2ng xe kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng")}),(e=>{(0,V.lQ)(e)})),children:[(0,i.jsxs)(J.Z,{sx:{},children:[(0,i.jsxs)(_.ZP,{container:!0,item:!0,xs:12,md:12,spacing:"27px",children:[(0,i.jsx)(_.ZP,{item:!0,xs:12,children:(0,i.jsx)(I.o,{options:(null===(l=C.data)||void 0===l?void 0:l.items)||[],getOptionLabel:e=>e.name,getOptionValue:e=>e.id,control:m,name:"brandID",label:"TH\u01af\u01a0NG HI\u1ec6U",required:!0,onChange:e=>{y("brandName",e.name),y("eModelID",""),y("lineOffID","")}})}),(0,i.jsx)(_.ZP,{item:!0,xs:12,children:(0,i.jsx)(I.o,{options:(null===v||void 0===v?void 0:v.data.items)||[],getOptionLabel:e=>e.name,getOptionValue:e=>e.id,control:m,name:"eModelID",label:"D\xd2NG XE",required:!0,noOptionsMessage:()=>b.brandID?"Kh\xf4ng t\xecm th\u1ea5y d\xf2ng xe n\xe0o":"Vui l\xf2ng ch\u1ecdn h\xe3ng xe",onChange:e=>{y("eModelName",e.name)}})}),(0,i.jsx)(_.ZP,{item:!0,xs:12,children:(0,i.jsx)(I.o,{options:(null===(o=N.data)||void 0===o?void 0:o.items)||[],getOptionLabel:e=>e.name,getOptionValue:e=>e.id,label:"LINE-OFF",control:m,name:"lineOffID",noOptionsMessage:()=>b.eModelID?"Kh\xf4ng t\xecm th\u1ea5y \u0111\u1eddi xe n\xe0o c\u1ee7a d\xf2ng n\xe0y":"Vui l\xf2ng ch\u1ecdn d\xf2ng xe",isLoading:N.isFetching||N.isLoading,onChange:e=>{y("lineOffName",e.name)}})})]}),(0,i.jsx)(x.Z,{className:"flex justify-center items-center mt-[36px]",children:(0,i.jsx)(x.Z,{sx:{width:"100%"},children:(0,i.jsx)(Re,{multiple:!0,handleUpload:e=>{p(e)},types:["zip"],description:"Only ZIP files"})})})]}),(0,i.jsx)(T.Z,{}),(()=>{var e;return d?(0,i.jsxs)(x.Z,{children:[(0,i.jsxs)(x.Z,{sx:{p:"27px"},children:[(0,i.jsxs)(x.Z,{sx:{display:"flex",bgcolor:"rgb(243, 251, 239)",alignItems:"center",p:"0 16px"},children:[(0,i.jsx)(x.Z,{sx:{display:"flex",height:"100%",mr:"12px"," svg":{fill:"rgb(137, 217, 100)",width:"20px",height:"20px"}},onClick:()=>{},children:(0,i.jsx)(r.eW,{})}),(0,i.jsxs)(F.Z,{sx:{p:"8px 0"},color:"rgb(54, 86, 40)",fontSize:"16px",children:["You have uploaded"," ",(0,i.jsx)("span",{style:{fontSize:"18px",fontWeight:"bold",color:"text.dark"},children:[...d].length})," ","files!"]})]}),(0,i.jsx)(x.Z,{sx:{mt:"18px",display:"flex",justifyContent:"space-between",fontSize:"16px",color:"text.dark"},children:(0,i.jsx)(L.Z,{sx:{width:"100%"},children:null===(e=[...d])||void 0===e?void 0:e.map(((e,n)=>(0,i.jsxs)(be.ZP,{children:[(0,i.jsx)(R.Z,{sx:{overflow:"hidden",textOverflow:"ellipsis"},primary:null===e||void 0===e?void 0:e.name}),(0,i.jsxs)("span",{children:[null===e||void 0===e?void 0:e.size," bytes"]})]},"treefolder-".concat(n))))})})]}),(0,i.jsx)(T.Z,{})]}):null})(),(0,i.jsxs)($.Z,{sx:{justifyContent:"flex-end"},children:[(0,i.jsx)(G.Z,{type:"button",variant:"text",onClick:()=>{s(),f(),p(null)},children:"\u0110\xf3ng"}),(0,i.jsx)(G.Z,{onClick:()=>{},variant:"contained",disabled:!d,type:"submit",children:"Import"})]})]}),(0,i.jsx)(Ce,{handleFunction:()=>{d&&b.eModelID?w.mutateAsync([...d],{onSuccess:e=>{}}):V.dN.error("D\xf2ng xe kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng")},content:(0,i.jsxs)(i.Fragment,{children:["B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn mu\u1ed1n th\u1ef1c hi\u1ec7n thao t\xe1c upload nhanh d\u1eef li\u1ec7u b\u1eb1ng file ZIP cho d\xf2ng xe"," ",(0,i.jsx)("span",{style:{color:"#ef5d22"},children:null===b||void 0===b?void 0:b.eModelName})," c\xf3 line-off"," ",(0,i.jsx)("span",{style:{color:"#ef5d22"},children:b.lineOffName})," thu\u1ed9c h\xe3ng xe"," ",(0,i.jsx)("span",{style:{color:"#ef5d22"},children:null===b||void 0===b?void 0:b.brandName}),". H\xe0nh \u0111\u1ed9ng n\xe0y kh\xf4ng th\u1ec3 ho\xe0n t\xe1c \u0111\u01b0\u1ee3c"]}),title:"X\xc1C NH\u1eacN IMPORT D\u1eee LI\u1ec6U",isOpen:a.isOpen,onClose:a.onClose,okButtonProps:{type:"submit"},isLoading:w.isLoading})]})},Fe=e=>{let{isOpen:n,onClose:s,systemFileCategory:t}=e;var l,r;(0,A.useRouter)();const o=(0,W.useQueryClient)(),a=((0,Y.Z)(),ne.Ry().shape({name:ne.Z_().required("T\xean folder kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng").typeError("Kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng"),systemFileCategory:ne.Z_().required("Lo\u1ea1i t\xe0i li\u1ec7u kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng"),brandID:ne.Z_().required("H\xe3ng xe kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng").typeError("Kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng"),eModelID:ne.Z_().required("D\xf2ng xe kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng").typeError("Kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng"),lineOffID:ne.Z_().required("\u0110\u1eddi xe kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng").typeError("Kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng")})),{control:c,watch:d,reset:p,setValue:g,handleSubmit:m}=(0,u.cI)({defaultValues:{name:"",systemFileCategory:t,systemFileType:1},resolver:(0,ee.X)(a)}),j=d(),f=(0,ye.Nn)(),y=(0,h.useMemo)((()=>{var e;return(null===f||void 0===f||null===(e=f.data)||void 0===e?void 0:e.items.map((e=>({value:"".concat(e.id),label:"".concat(e.name)}))))||[]}),[f]),Z=(0,ye.bP)(j.brandID),b=(0,ye.AP)(j.eModelID),C=(0,W.useMutation)(H.xl.create,{onSuccess:e=>{o.invalidateQueries("foldersLineoffQuery"),o.invalidateQueries("documentsAllQuery"),s(),p(),V.dN.success("T\u1ea1o m\u1edbi th\xe0nh c\xf4ng")},onError:e=>{V.dN.error(e.response.data.resultMessage)}});return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(O,{isOpen:n,onClose:()=>{p(),s()},maxWidth:"sm",title:"T\u1ea0O M\u1edaI FOLDER T\xc0I LI\u1ec6U",children:(0,i.jsxs)("form",{onSubmit:m((e=>{const{brandID:n,eModelID:i,...t}=e;console.log({...t}),t.lineOffID?C.mutateAsync({...t}):(V.dN.error("Vui l\xf2ng thao t\xe1c l\u1ea1i"),s())}),(e=>{(0,V.lQ)(e)})),children:[(0,i.jsx)(J.Z,{children:(0,i.jsxs)(_.ZP,{item:!0,container:!0,sx:{},spacing:"27px",children:[(0,i.jsx)(_.ZP,{item:!0,xs:12,children:(0,i.jsx)(I.o,{options:y,getOptionLabel:e=>e.label,getOptionValue:e=>e.value,label:"H\xc3NG XE",control:c,name:"brandID",onChange:()=>{g("eModelID",""),g("lineOffID","")}})}),(0,i.jsx)(_.ZP,{item:!0,xs:12,children:(0,i.jsx)(I.o,{options:(null===(l=Z.data)||void 0===l?void 0:l.items)||[],getOptionLabel:e=>e.name,getOptionValue:e=>e.id,label:"D\xd2NG XE",control:c,name:"eModelID",onChange:()=>{g("lineOffID","")},noOptionsMessage:()=>j.brandID?"Kh\xf4ng t\xecm th\u1ea5y d\xf2ng xe n\xe0o":"Vui l\xf2ng ch\u1ecdn h\xe3ng xe",isLoading:Z.isFetching||Z.isLoading})}),(0,i.jsx)(_.ZP,{item:!0,xs:12,children:(0,i.jsx)(I.o,{options:(null===(r=b.data)||void 0===r?void 0:r.items)||[],getOptionLabel:e=>e.name,getOptionValue:e=>e.id,label:"LINE-OFF",control:c,name:"lineOffID",noOptionsMessage:()=>j.eModelID?"Kh\xf4ng t\xecm th\u1ea5y \u0111\u1eddi xe n\xe0o c\u1ee7a d\xf2ng n\xe0y":"Vui l\xf2ng ch\u1ecdn d\xf2ng xe",isLoading:b.isFetching||b.isLoading})}),(0,i.jsx)(_.ZP,{item:!0,xs:12,children:(0,i.jsx)(I.qR,{label:"T\xcaN FOLDER SYSTEM",control:c,name:"name"})}),(0,i.jsx)(_.ZP,{item:!0,xs:12,children:(0,i.jsx)(x.Z,{sx:{"& .MuiRadio-root.Mui-disabled":{color:"#ef5d22",cursor:"no-drop"},"& .MuiFormControlLabel-label.Mui-disabled":{color:"rgba(84, 51, 34, 0.7)"}},children:(0,i.jsx)(I.iw,{optionsList:[{value:"1",label:"Wiring Diagram"},{value:"2",label:"Specifications"},{value:"3",label:"Timing Belt/Chain"},{value:"4",label:"Trouble Shooting Guide"},{value:"5",label:"Transmission Manual"}],label:"LO\u1ea0I T\xcdNH N\u0102NG",control:c,name:"systemFileCategory",disabled:!0})})})]})}),(0,i.jsx)(T.Z,{}),(0,i.jsxs)($.Z,{sx:{justifyContent:"flex-end"},children:[(0,i.jsx)(G.Z,{type:"button",variant:"text",onClick:()=>{s(),p()},children:"\u0110\xf3ng"}),(0,i.jsx)(U.Z,{variant:"contained",loading:C.isLoading,type:"submit",children:"T\u1ea1o m\u1edbi"})]})]})})})},Te=e=>{let{isOpen:n,onClose:s,systemFileCategory:t}=e;const l=(0,z.q)(),r=(0,z.q)();return(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)(b.Z,{open:n,onClose:s,fullWidth:!0,maxWidth:"sm",children:[(0,i.jsx)(de.Z,{sx:{padding:"24px 27px 0 27px"},children:(0,i.jsx)(F.Z,{variant:"h5",children:"Vui l\xf2ng ch\u1ecdn c\xe1ch t\u1ea1o folder t\xe0i li\u1ec7u"})}),(0,i.jsx)(X.Z,{sx:{p:"27px"},children:(0,i.jsxs)(_.ZP,{container:!0,spacing:"27px",children:[(0,i.jsx)(_.ZP,{item:!0,xs:6,children:(0,i.jsx)(G.Z,{size:"small",fullWidth:!0,color:"secondary",sx:{p:"27px"},onClick:()=>{l.onOpen()},children:"D\xf9ng t\xednh n\u0103ng import folder"})}),(0,i.jsx)(_.ZP,{item:!0,xs:6,children:(0,i.jsx)(G.Z,{size:"small",fullWidth:!0,sx:{p:"27px"},onClick:()=>{r.onOpen()},children:"T\u1ea1o folder th\u1ee7 c\xf4ng"})})]})}),(0,i.jsx)(Fe,{isOpen:r.isOpen,onClose:()=>{r.onClose(),s()},systemFileCategory:t}),(0,i.jsx)(Se,{isOpen:l.isOpen,onClose:()=>{l.onClose(),s()},systemFileCategory:t})]})})},Ne=e=>{switch(e){case"1":return(0,i.jsx)(i.Fragment,{children:"Wiring Diagram"});case"2":return(0,i.jsx)(i.Fragment,{children:"Specifications"});case"3":return(0,i.jsx)(i.Fragment,{children:"Timing Belt/Chain"});case"4":return(0,i.jsx)(i.Fragment,{children:"Trouble Shooting Guide"});case"5":return(0,i.jsx)(i.Fragment,{children:"Transmission Manual"})}},we=e=>{let{data:n,title:s,numberFiles:t,handleClick:l}=e;const o=(0,W.useQueryClient)(),a=(0,z.q)(),[c,d]=(0,h.useState)(null),u=()=>{d(null)},p=(0,W.useMutation)((e=>H.xl.delete(e)),{onSuccess:()=>{V.dN.success("X\xf3a th\xe0nh c\xf4ng"),a.onClose(),o.invalidateQueries(["foldersLineoffQuery",n.lineOffID])},onError:e=>{V.dN.error(e)}});return(0,i.jsxs)(k.Z,{children:[(0,i.jsx)(x.Z,{sx:{p:"18px",width:"100%","& .MuiButton-startIcon":{fill:"#ef5d22"}},children:(0,i.jsxs)(x.Z,{sx:{width:"100%",display:"flex",alignItems:"center"},children:[(0,i.jsx)(x.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"center",mr:"18px"," svg":{fill:"#ef5d22",width:"24px",height:"24px"}},children:(0,i.jsx)(q.Z,{sx:{height:"54px",width:"54px",bgcolor:"#ec50111a"},children:(0,i.jsxs)("svg",{focusable:"false","aria-hidden":"true",viewBox:"0 0 24 24","data-testid":"FolderOpenTwoToneIcon",children:[(0,i.jsx)("path",{d:"M4 8h16v10H4z",opacity:".3"}),(0,i.jsx)("path",{d:"M20 6h-8l-2-2H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2zm0 12H4V8h16v10z"})]})})}),(0,i.jsx)(x.Z,{sx:{flex:1},children:(0,i.jsxs)(x.Z,{sx:{display:"flex",flexDirection:"column",alignItems:"flex-start"},children:[(0,i.jsx)(F.Z,{fontSize:"16px",fontWeight:600,color:"text.dark",children:s}),(0,i.jsx)("p",{children:Ne(n.systemFileCategory)}),(0,i.jsx)(x.Z,{className:"flex gap-2",children:(0,i.jsx)(x.Z,{sx:{color:"rgba(84, 51, 34, 0.7)",fontSize:"14px",fontWeight:"normal"},children:(0,i.jsxs)("p",{children:[(0,i.jsx)("span",{style:{fontWeight:600},children:t||0})," folders"]})})})]})}),(0,i.jsx)(v.Z,{sx:{" svg":{fill:"#53260f",width:"24px",height:"24px"}},onClick:e=>{d(e.currentTarget)},children:(0,i.jsx)(r.kT,{})})]})}),(0,i.jsx)(w.ZP,{id:"foderCard",open:Boolean(c),anchorEl:c,onClose:u,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},children:(0,i.jsx)(x.Z,{children:(0,i.jsx)(k.Z,{children:(0,i.jsx)(M.Z,{onClickAway:u,children:(0,i.jsx)(x.Z,{sx:{p:0},children:(0,i.jsxs)(L.Z,{component:"nav",children:[(0,i.jsxs)(P.Z,{sx:{fill:"#ef5d22"},onClick:l,children:[(0,i.jsx)(E.Z,{children:(0,i.jsx)(r.Nw,{})}),(0,i.jsx)(R.Z,{primary:(0,i.jsx)(F.Z,{color:"inherit",children:"Chi ti\u1ebft"})})]}),(0,i.jsxs)(P.Z,{sx:{fill:"rgb(255, 25, 67)"},onClick:()=>{u(),a.onOpen()},children:[(0,i.jsx)(E.Z,{children:(0,i.jsx)(r.jW,{})}),(0,i.jsx)(R.Z,{primary:(0,i.jsx)(F.Z,{color:"inherit",children:"X\xf3a"})})]})]})})})})})}),(0,i.jsx)(K,{title:"X\xd3A folder",content:(0,i.jsxs)(i.Fragment,{children:["B\u1ea1n c\xf3 ch\u1eafc mu\u1ed1n x\xf3a folder ",(0,i.jsx)("span",{style:{color:"#ef5d22"},children:s}),". H\xe0nh \u0111\u1ed9ng n\xe0y kh\xf4ng th\u1ec3 ho\xe0n t\xe1c \u0111\u01b0\u1ee3c"]}),isOpen:a.isOpen,onClose:a.onClose,isLoading:p.isLoading,handleFunction:()=>{p.mutateAsync(n.id)}})]})};var ke=s(91655),Me=s(19594),Le=s(93481);const Pe=e=>{let{data:n,idx:s,lineOffID:t,parentId:l,title:o,handleClick:a,isCollapsed:c,systemFileCategory:d}=e;const u=(0,W.useQueryClient)(),p=(0,z.q)(),g=(0,z.q)(),m=(0,z.q)(),j=(0,z.q)(),[f,y]=(0,h.useState)(null),[Z,b]=(0,h.useState)(null),[I,O]=(0,h.useState)(null),{data:D,isLoading:S,isFetching:T}=(0,W.useQuery)(["foldersOfParentQuery",l],(()=>l?H.xl.getAll({pageIndex:1,pageSize:100,parentID:l}):void 0),{onSuccess:e=>{},enabled:!!l&&c&&1==n.systemFileType,refetchOnWindowFocus:!1}),{data:N,isFetching:w}=(0,W.useQuery)(["materialsOfSystemQuery",l],(()=>l?H.GX.getAll({pageIndex:1,pageSize:100,systemFileID:l}):void 0),{onSuccess:e=>{},enabled:!!l&&c&&2==n.systemFileType,refetchOnWindowFocus:!1}),k=(0,W.useMutation)((e=>H.xl.delete(e)),{onSuccess:()=>{V.dN.success("X\xf3a th\xe0nh c\xf4ng"),m.onClose(),u.invalidateQueries(["foldersOfParentQuery",n.parentID])},onError:e=>{V.dN.error(e)}});return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(P.Z,{onClick:()=>{a(),c||O(null)},sx:{p:0,borderBottom:"1px solid rgba(0, 0, 0,0.1)"},children:[(0,i.jsx)(Me.Z,{sx:{" svg":{fill:1==n.systemFileType?"#ef5d22":"#22b4ef"}},children:(0,i.jsx)(q.Z,{sx:{bgcolor:"transparent"},children:(0,i.jsx)(r.Nq,{})})}),(0,i.jsx)(R.Z,{primary:(0,i.jsx)(F.Z,{fontWeight:c?"bold":"normal",children:1==n.systemFileType?"".concat(o):"".concat(o," (PDF)")})}),c?(0,i.jsxs)(x.Z,{children:[(0,i.jsx)(C.Z,{title:1==n.systemFileType?"T\u1ea1o folder con":"Upload files",children:(0,i.jsx)(v.Z,{onClick:e=>{e.stopPropagation(),1==n.systemFileType?p.onOpen():g.onOpen()},sx:{fill:"rgb(84 49 34 / 50%)","&: hover":{bgcolor:"transparent",fill:"#ef5d22"}," svg":{width:"18px",height:"18px"}},children:1==n.systemFileType?(0,i.jsx)(r.$W,{}):(0,i.jsx)(r.jk,{})})}),(0,i.jsx)(C.Z,{title:"Ch\u1ec9nh s\u1eeda",children:(0,i.jsx)(v.Z,{onClick:e=>{e.stopPropagation(),j.onOpen()},sx:{"&: hover":{bgcolor:"transparent",fill:"#ef5d22"}," svg":{width:"18px",height:"18px"},fill:"rgb(84 49 34 / 50%)"},children:(0,i.jsx)(r.vd,{})})}),(0,i.jsx)(C.Z,{title:"X\xf3a",children:(0,i.jsx)(v.Z,{onClick:e=>{e.stopPropagation(),b(n.id),m.onOpen()},color:"error",sx:{fill:"rgb(84 49 34 / 50%)","&: hover":{bgcolor:"transparent",fill:"rgb(255, 25, 67)"}," svg":{width:"18px",height:"18px"}},children:(0,i.jsx)(r.jW,{})})})]}):(0,i.jsx)(i.Fragment,{children:1==n.systemFileType?(0,i.jsxs)("span",{children:[(0,i.jsx)("span",{style:{fontWeight:600},children:(n.systemFileType,n.countChildFile)})," ",(0,i.jsxs)("span",{children:[" ",1==n.systemFileType?"folders":"files"]})]}):null})]}),(0,i.jsx)(Le.Z,{in:c,timeout:"auto",unmountOnExit:!0,children:(0,i.jsxs)(x.Z,{sx:{pl:2},children:[(0,i.jsx)(L.Z,{component:"div",disablePadding:!0,children:1==n.systemFileType?(0,i.jsx)(i.Fragment,{children:T?(0,i.jsxs)(x.Z,{sx:{width:"100%"},children:[(0,i.jsx)(ke.Z,{height:40}),(0,i.jsx)(ke.Z,{height:40,animation:"wave"}),(0,i.jsx)(ke.Z,{height:40,animation:!1})]}):(0,i.jsx)(i.Fragment,{children:(null===D||void 0===D?void 0:D.data.items.length)?D.data.items.map(((e,n)=>{const s=e.id==I;return(0,i.jsx)(h.Fragment,{children:(0,i.jsx)(Pe,{idx:n,data:e,handleClick:()=>{e.id==I?O(null):O(e.id)},title:e.name,isCollapsed:s,parentId:e.id,lineOffID:t,systemFileCategory:d})},"RecursiveFolderComponent-".concat(e.id,"-").concat(n))})):(0,i.jsx)(x.Z,{sx:{p:2},children:(0,i.jsx)(F.Z,{fontStyle:"italic",fontSize:"16px",children:"Kh\xf4ng t\xecm th\u1ea5y d\u1eef li\u1ec7u"})})})}):(0,i.jsx)(i.Fragment,{children:w?(0,i.jsxs)(x.Z,{sx:{width:"100%"},children:[(0,i.jsx)(ke.Z,{height:40}),(0,i.jsx)(ke.Z,{height:40,animation:"wave"}),(0,i.jsx)(ke.Z,{height:40,animation:!1})]}):(0,i.jsx)(i.Fragment,{children:(null===N||void 0===N?void 0:N.data.items.length)?N.data.items.map(((e,n)=>{return(0,i.jsx)(h.Fragment,{children:(0,i.jsx)("a",{target:"_blank",href:e.fileUrl,rel:"noreferrer",children:(0,i.jsxs)(P.Z,{onClick:()=>{},sx:{borderBottom:"1px solid rgba(0, 0, 0,0.1)",p:0},children:[(0,i.jsx)(Me.Z,{sx:{" svg":{fill:"#ff1f12"}},children:(0,i.jsx)(q.Z,{sx:{bgcolor:"transparent"},children:(0,i.jsx)(r.P8,{})})}),(0,i.jsx)(R.Z,{primary:e.name}),"Tr\u1ea1ng th\xe1i: \xa0",(s=e.status,1==s?(0,i.jsx)("span",{style:{fontWeight:600},children:"loading..."}):2==s?(0,i.jsx)("span",{style:{fontWeight:600,color:"#27A689"},children:"th\xe0nh c\xf4ng"}):(0,i.jsx)("span",{style:{fontWeight:600,color:"rgb(255, 25, 67)"},children:"th\u1ea5t b\u1ea1i"}))]})})},"RecursiveFolderComponent-".concat(e.id,"-").concat(n));var s})):(0,i.jsx)(x.Z,{sx:{p:2},children:(0,i.jsx)(F.Z,{fontStyle:"italic",fontSize:"16px",children:"Kh\xf4ng t\xecm th\u1ea5y d\u1eef li\u1ec7u"})})})})}),(0,i.jsx)(he,{isOpen:p.isOpen,onClose:p.onClose,lineOffID:t,parentID:l,parentName:n.name,systemFileCategory:d}),(0,i.jsx)(ce,{isUpdate:!0,dataUpdate:n,lineOffID:t,parentID:l,isOpen:j.isOpen,onClose:()=>{j.onClose(),y(null)},systemFileCategory:d}),(0,i.jsx)(je,{isCollapsed:c,folderParent:n,isOpen:g.isOpen,onClose:g.onClose})]})}),(0,i.jsx)(K,{title:"X\xd3A folder",content:(0,i.jsxs)(i.Fragment,{children:["B\u1ea1n c\xf3 ch\u1eafc mu\u1ed1n x\xf3a folder ",(0,i.jsx)("span",{style:{color:"#ef5d22"},children:o}),". H\xe0nh \u0111\u1ed9ng n\xe0y kh\xf4ng th\u1ec3 ho\xe0n t\xe1c \u0111\u01b0\u1ee3c"]}),isOpen:m.isOpen,onClose:m.onClose,isLoading:k.isLoading,handleFunction:()=>{Z?k.mutateAsync(Z):m.onClose()}})]})},Ee=e=>{let{data:n,lineOffID:s,parentId:t,title:l,numberFiles:o,handleClick:a,isCollapsed:c,systemFileCategory:d}=e;const u=(0,W.useQueryClient)(),p=(0,z.q)(),g=(0,z.q)(),m=(0,z.q)(),j=(0,z.q)(),[f,y]=(0,h.useState)(null),{data:Z,isFetching:b}=(0,W.useQuery)(["foldersOfParentQuery",t],(()=>t?H.xl.getAll({pageIndex:1,pageSize:100,parentID:t}):void 0),{enabled:!!c,refetchOnWindowFocus:!1}),{data:I,isFetching:O}=(0,W.useQuery)(["materialsOfSystemQuery",t],(()=>t?H.GX.getAll({pageIndex:1,pageSize:100,systemFileID:t}):void 0),{onSuccess:e=>{},enabled:!!t&&c&&2==n.systemFileType,refetchOnWindowFocus:!1}),D=(0,W.useMutation)((e=>H.xl.delete(e)),{onSuccess:()=>{V.dN.success("X\xf3a th\xe0nh c\xf4ng"),j.onClose(),u.invalidateQueries(["foldersOfParentQuery",n.parentID])},onError:e=>{V.dN.error(e)}});return(0,i.jsxs)(k.Z,{children:[(0,i.jsx)(G.Z,{sx:{p:"18px",width:"100%","& .MuiButton-startIcon":{fill:"#ef5d22"}},variant:"text",onClick:()=>{a(),c||y(null)},color:1==n.systemFileType?"primary":"secondary",children:(0,i.jsxs)(x.Z,{sx:{width:"100%",display:"flex",alignItems:"center"},children:[(0,i.jsx)(x.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"center",mr:"18px"," svg":{fill:1==n.systemFileType?"#ef5d22":"#22b4ef",width:"24px",height:"24px"}},children:(0,i.jsx)(q.Z,{sx:{height:"54px",width:"54px",bgcolor:1==n.systemFileType?"#ec50111a":"#22b4ef1a"},children:(0,i.jsx)(r.Nq,{})})}),(0,i.jsx)(x.Z,{sx:{flex:1},children:(0,i.jsxs)(x.Z,{sx:{display:"flex",flexDirection:"column",alignItems:"flex-start"},children:[(0,i.jsx)(F.Z,{fontSize:"16px",fontWeight:600,color:"text.dark",children:l}),(0,i.jsx)(x.Z,{sx:{color:"rgba(84, 51, 34, 0.7)",fontSize:"14px",fontWeight:"normal"},children:(0,i.jsxs)("p",{children:[(0,i.jsx)("span",{style:{fontWeight:600},children:o||0})," ",1==n.systemFileType?"folders":"files"]})})]})}),(0,i.jsx)(x.Z,{sx:{" svg":{stroke:"#53260f",transform:c?"rotate(0deg)":"rotate(-90deg)",transition:"0.2s",width:"16px",height:"16px"}},children:(0,i.jsx)(r.hW,{})})]})}),(0,i.jsxs)(Le.Z,{in:c,timeout:"auto",unmountOnExit:!0,children:[(0,i.jsxs)(x.Z,{sx:{width:"100%",height:"100%",px:"18px"},children:[(0,i.jsx)(T.Z,{}),(0,i.jsx)(x.Z,{sx:{width:"100%",height:"100%"},children:(0,i.jsxs)(L.Z,{sx:{width:"100%",bgcolor:"background.paper",pt:0},component:"nav","aria-labelledby":"nested-list-subheader",children:[b?(0,i.jsxs)(x.Z,{sx:{width:"100%"},children:[(0,i.jsx)(ke.Z,{height:40}),(0,i.jsx)(ke.Z,{height:40,animation:"wave"}),(0,i.jsx)(ke.Z,{height:40,animation:!1})]}):(0,i.jsx)(i.Fragment,{children:1==n.systemFileType?(0,i.jsx)(i.Fragment,{children:(null===Z||void 0===Z?void 0:Z.data.items.length)?null===Z||void 0===Z?void 0:Z.data.items.map(((e,n)=>{const t=e.id==f;return(0,i.jsx)(h.Fragment,{children:(0,i.jsx)(Pe,{idx:n,handleClick:()=>{e.id==f?y(null):y(e.id)},data:e,title:e.name,isCollapsed:t,parentId:e.id,lineOffID:s,systemFileCategory:d})},"RecursiveFolderComponent-".concat(e.id,"-").concat(n))})):null}):(0,i.jsx)(i.Fragment,{children:O?(0,i.jsxs)(x.Z,{sx:{width:"100%"},children:[(0,i.jsx)(ke.Z,{height:40}),(0,i.jsx)(ke.Z,{height:40,animation:"wave"}),(0,i.jsx)(ke.Z,{height:40,animation:!1})]}):(0,i.jsx)(i.Fragment,{children:(null===I||void 0===I?void 0:I.data.items.length)?I.data.items.map(((e,n)=>{return(0,i.jsx)(h.Fragment,{children:(0,i.jsx)("a",{target:"_blank",href:e.fileUrl,rel:"noreferrer",children:(0,i.jsxs)(P.Z,{onClick:()=>{},sx:{borderBottom:"1px solid rgba(0, 0, 0,0.1)",p:0},children:[(0,i.jsx)(Me.Z,{sx:{" svg":{fill:"#ff1f12"}},children:(0,i.jsx)(q.Z,{sx:{bgcolor:"transparent"},children:(0,i.jsx)(r.P8,{})})}),(0,i.jsx)(R.Z,{primary:e.name}),"Tr\u1ea1ng th\xe1i: \xa0",(s=e.status,1==s?(0,i.jsx)("span",{style:{fontWeight:600},children:"loading..."}):2==s?(0,i.jsx)("span",{style:{fontWeight:600,color:"#27A689"},children:"th\xe0nh c\xf4ng"}):(0,i.jsx)("span",{style:{fontWeight:600,color:"rgb(255, 25, 67)"},children:"th\u1ea5t b\u1ea1i"}))]})})},"RecursiveFolderComponent-".concat(e.id,"-").concat(n));var s})):(0,i.jsx)(x.Z,{sx:{p:2},children:(0,i.jsx)(F.Z,{fontStyle:"italic",fontSize:"16px",children:"Kh\xf4ng t\xecm th\u1ea5y d\u1eef li\u1ec7u"})})})})}),(0,i.jsxs)(x.Z,{sx:{p:"12px",display:"flex",justifyContent:"space-between"},children:[(0,i.jsx)(G.Z,{onClick:()=>{1==n.systemFileType?p.onOpen():m.onOpen()},sx:{height:"auto",bgcolor:"rgb(84 55 34 / 10%)",":hover":{bgcolor:"rgba(159, 135, 110, 0.1)"},p:"6px 32px !important","& .MuiButton-startIcon":{fill:"rgb(84 49 34 / 50%)"},color:"rgb(84 49 34 / 50%)"},size:"small",startIcon:1==n.systemFileType?(0,i.jsx)(r.qJ,{}):(0,i.jsx)(r.jk,{}),color:1==n.systemFileType?"primary":"secondary",children:1==n.systemFileType?"T\u1ea1o folder":"Upload files"}),(0,i.jsxs)(x.Z,{children:[(0,i.jsx)(C.Z,{title:"S\u1eeda t\xean folder n\xe0y",children:(0,i.jsx)(v.Z,{onClick:e=>{g.onOpen()},color:"error",sx:{"&: hover":{bgcolor:"transparent",fill:"#ef5d22"}," svg":{width:"18px",height:"18px"},fill:"rgb(84 49 34 / 50%)"},children:(0,i.jsx)(r.vd,{})})}),(0,i.jsx)(C.Z,{title:"X\xf3a folder n\xe0y",children:(0,i.jsx)(v.Z,{onClick:e=>{j.onOpen()},color:"error",sx:{"&: hover":{bgcolor:"transparent",fill:"rgb(255, 25, 67)"}," svg":{width:"18px",height:"18px"}},children:(0,i.jsx)(r.jW,{})})})]})]})]})})]}),(0,i.jsx)(je,{isCollapsed:c,folderParent:n,isOpen:m.isOpen,onClose:m.onClose}),(0,i.jsx)(he,{isOpen:p.isOpen,onClose:p.onClose,lineOffID:s,parentID:t,parentName:n.name,systemFileCategory:d}),(0,i.jsx)(ce,{isUpdate:!0,dataUpdate:n,lineOffID:s,parentID:t,isOpen:g.isOpen,onClose:()=>{g.onClose()},systemFileCategory:d}),(0,i.jsx)(K,{title:"X\xd3A folder",content:(0,i.jsxs)(i.Fragment,{children:["B\u1ea1n c\xf3 ch\u1eafc mu\u1ed1n x\xf3a folder ",(0,i.jsx)("span",{style:{color:"#ef5d22"},children:l}),". H\xe0nh \u0111\u1ed9ng n\xe0y kh\xf4ng th\u1ec3 ho\xe0n t\xe1c \u0111\u01b0\u1ee3c"]}),isOpen:j.isOpen,onClose:j.onClose,isLoading:D.isLoading,handleFunction:()=>{D.mutateAsync(n.id)}})]})]})},Re=e=>{let{handleUpload:n,types:s=["PDF"],multiple:t,description:l="Only PDF files"}=e;const{classes:o}=Ae();return(0,i.jsx)(x.Z,{sx:{width:"100%"},children:(0,i.jsx)(me.b,{multiple:!!t,handleChange:e=>{n(e)},name:"file",types:s,children:(0,i.jsxs)(x.Z,{className:o.uploadViewBox,children:[(0,i.jsx)(x.Z,{className:o.uploadImageIcon,children:(0,i.jsx)(r.ou,{})}),(0,i.jsx)("div",{className:"".concat(o.dragSubtitle),children:"Drag & Drog or Browse"}),(0,i.jsx)(G.Z,{sx:{p:"15px 56px"},title:"Browse files",onClick:()=>{},children:"Browse files"}),(0,i.jsx)("div",{className:"".concat(o.dragNote),children:l})]})})})},Ae=(0,ue.ZL)()((e=>({uploadViewBox:{background:"rgb(84 46 34 / 2%)",padding:"48px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",border:"1.6px dashed rgba(34, 51, 84, 0.3)",borderRadius:"20px",cursor:"pointer"},dragSubtitle:{fontSize:"16px",lineHeight:"24px",fontWeight:600,color:"#000000",marginBottom:"24px"},dragNote:{marginTop:"16px",fontSize:"14px",lineHeight:"20px",letterSpacing:"0.02em",color:"#000000",opacity:.4},uploadImageIcon:{" svg":{fill:"red"},opacity:.2}}))),Qe=(0,a.ZP)("div",{shouldForwardProp:e=>"open"!==e})((e=>{let{theme:n,open:s}=e;return{display:"flex",alignItems:"center",padding:"4px 6px",gap:"4px",justifyContent:"flex-end",borderRadius:"4px",background:s?"#27A6891a":"#C94A4F1a",color:s?"#27A689":"#C94A4F",fill:s?"#27A689":"#C94A4F"}})),qe=e=>(0,i.jsxs)(Qe,{open:e>=0,children:[(0,i.jsx)("span",{children:e>=0?(0,i.jsx)(r.y8,{}):(0,i.jsx)(r.VA,{})}),(0,i.jsxs)("span",{style:{fontWeight:400,fontSize:"12px",lineHeight:"14px"},children:[e,"%"]})]}),We=e=>{let{data:n}=e;const{amountUsersThisMonth:s,amountUsersLastMonth:t}=n,l=Math.round(s/(t||1)*100);return(0,i.jsx)(D.Z,{sx:{width:"100%",height:"100%","&.MuiPaper-root":{boxShadow:"none"},"&:hover":{"&.MuiPaper-root":{boxShadow:"0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1)"}},minHeight:"96px"},children:(0,i.jsxs)("div",{className:"p-4 flex justify-between gap-16 items-center h-full",children:[(0,i.jsxs)("div",{className:"flex flex-col justify-between gap-2 h-full",children:[(0,i.jsx)(F.Z,{color:"#1A1A1A",fontSize:"14px",fontWeight:"bold",sx:{letterSpacing:"0.02em"},className:"w-full ",children:"Th\xe0nh vi\xean m\u1edbi trong th\xe1ng"}),(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[qe(l),(0,i.jsx)(F.Z,{variant:"subtitle2",color:"#999999",children:"so v\u1edbi th\xe1ng tr\u01b0\u1edbc"})]})]}),(0,i.jsx)(F.Z,{variant:"largeNumber",color:s>=t?"#27A689":"#C94A4F",children:s})]})})},He=e=>{let{data:n}=e;const{amountThisMonth:s,amountLastMonth:t}=n,l=Math.round(s/(t||1)*100/1e6);return(0,i.jsx)(D.Z,{sx:{width:"100%",height:"100%","&.MuiPaper-root":{boxShadow:"none"},"&:hover":{"&.MuiPaper-root":{boxShadow:"0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1)"}}},children:(0,i.jsxs)("div",{className:"p-4 flex justify-between gap-16 items-center h-full",children:[(0,i.jsxs)("div",{className:"flex flex-col justify-between gap-2 h-full",children:[(0,i.jsx)(F.Z,{color:"#1A1A1A",sx:{letterSpacing:"0.02em"},className:"w-full ",fontSize:"14px",fontWeight:"bold",children:"Doang thu trong th\xe1ng"}),(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[qe(l),(0,i.jsx)(F.Z,{variant:"subtitle2",color:"#999999",children:"so v\u1edbi th\xe1ng tr\u01b0\u1edbc"})]})]}),(0,i.jsx)(F.Z,{variant:"largeNumber",color:s>=t?"#27A689":"#C94A4F",children:s/1e6})]})})},ze=e=>{let{data:n,handleClick:s,isCollapsed:t,systemFileCategory:l}=e;const o=(0,W.useQueryClient)(),a=(0,z.q)(),c=(0,z.q)(),d=(0,z.q)(),u=(0,z.q)(),[p,g]=(0,h.useState)(null),{data:m,isFetching:j}=(0,W.useQuery)(["foldersOfParentQuery",n.id],(()=>n.id?H.xl.getAll({pageIndex:1,pageSize:100,parentID:n.id}):void 0),{enabled:!!t,refetchOnWindowFocus:!1}),f=(0,W.useMutation)((e=>H.xl.delete(e)),{onSuccess:()=>{V.dN.success("X\xf3a th\xe0nh c\xf4ng"),u.onClose(),o.invalidateQueries(["documentsAllQuery"])},onError:e=>{V.dN.error(e)}});return(0,i.jsxs)(k.Z,{children:[(0,i.jsx)(G.Z,{sx:{p:"18px",width:"100%","& .MuiButton-startIcon":{fill:"#ef5d22"}},variant:"text",onClick:()=>{s(),t||g(null)},color:1==n.systemFileType?"primary":"secondary",children:(0,i.jsxs)(x.Z,{sx:{width:"100%",display:"flex",alignItems:"center"},children:[(0,i.jsx)(x.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"center",mr:"18px"," svg":{fill:1==n.systemFileType?"#ef5d22":"#22b4ef",width:"24px",height:"24px"}},children:(0,i.jsx)(q.Z,{sx:{height:"54px",width:"54px",bgcolor:1==n.systemFileType?"#ec50111a":"#22b4ef1a"},children:(0,i.jsx)(r.Nq,{})})}),(0,i.jsx)(x.Z,{sx:{flex:1},children:(0,i.jsxs)(x.Z,{sx:{display:"flex",flexDirection:"column",alignItems:"flex-start"},children:[(0,i.jsx)(F.Z,{fontSize:"16px",fontWeight:600,color:"text.dark",children:n.name}),(0,i.jsxs)(x.Z,{sx:{fontSize:"14px",fontWeight:"normal"},children:[n.brandName," / ",n.emodelName," / ",n.lineOffName]}),(0,i.jsx)(x.Z,{sx:{color:"rgba(84, 51, 34, 0.7)",fontSize:"14px",fontWeight:"normal"},children:(0,i.jsxs)("p",{children:[(0,i.jsx)("span",{style:{fontWeight:600},children:n.countChildFile||0})," ",1==n.systemFileType?"folders":"files"]})})]})}),(0,i.jsx)(x.Z,{sx:{" svg":{stroke:"#53260f",transform:t?"rotate(0deg)":"rotate(-90deg)",transition:"0.2s",width:"16px",height:"16px"}},children:(0,i.jsx)(r.hW,{})})]})}),(0,i.jsxs)(Le.Z,{in:t,timeout:"auto",unmountOnExit:!0,children:[(0,i.jsxs)(x.Z,{sx:{width:"100%",height:"100%",px:"18px"},children:[(0,i.jsx)(T.Z,{}),(0,i.jsx)(x.Z,{sx:{width:"100%",height:"100%"},children:(0,i.jsxs)(L.Z,{sx:{width:"100%",bgcolor:"background.paper",pt:0},component:"nav","aria-labelledby":"nested-list-subheader",children:[j?(0,i.jsxs)(x.Z,{sx:{width:"100%"},children:[(0,i.jsx)(ke.Z,{height:40}),(0,i.jsx)(ke.Z,{height:40,animation:"wave"}),(0,i.jsx)(ke.Z,{height:40,animation:!1})]}):(0,i.jsx)(i.Fragment,{children:(null===m||void 0===m?void 0:m.data.items.length)?null===m||void 0===m?void 0:m.data.items.map(((e,s)=>{const t=e.id==p;return(0,i.jsx)(h.Fragment,{children:(0,i.jsx)(Pe,{idx:s,handleClick:()=>{e.id==p?g(null):g(e.id)},data:e,title:e.name,isCollapsed:t,parentId:e.id,lineOffID:n.lineOffID,systemFileCategory:l})},"RecursiveFolderComponent-".concat(e.id,"-").concat(s))})):null}),(0,i.jsxs)(x.Z,{sx:{p:"12px",display:"flex",justifyContent:"space-between"},children:[(0,i.jsx)(G.Z,{onClick:()=>{1==n.systemFileType?a.onOpen():d.onOpen()},sx:{height:"auto",bgcolor:"rgb(84 55 34 / 10%)",":hover":{bgcolor:"rgba(159, 135, 110, 0.1)"},p:"6px 32px !important","& .MuiButton-startIcon":{fill:"rgb(84 49 34 / 50%)"},color:"rgb(84 49 34 / 50%)"},size:"small",startIcon:1==n.systemFileType?(0,i.jsx)(r.qJ,{}):(0,i.jsx)(r.jk,{}),color:1==n.systemFileType?"primary":"secondary",children:1==n.systemFileType?"T\u1ea1o folder":"Upload files"}),(0,i.jsxs)(x.Z,{children:[(0,i.jsx)(C.Z,{title:"S\u1eeda t\xean folder n\xe0y",children:(0,i.jsx)(v.Z,{onClick:e=>{c.onOpen()},color:"error",sx:{"&: hover":{bgcolor:"transparent",fill:"#ef5d22"}," svg":{width:"18px",height:"18px"},fill:"rgb(84 49 34 / 50%)"},children:(0,i.jsx)(r.vd,{})})}),(0,i.jsx)(C.Z,{title:"X\xf3a folder n\xe0y",children:(0,i.jsx)(v.Z,{onClick:e=>{u.onOpen()},color:"error",sx:{"&: hover":{bgcolor:"transparent",fill:"rgb(255, 25, 67)"}," svg":{width:"18px",height:"18px"}},children:(0,i.jsx)(r.jW,{})})})]})]})]})})]}),(0,i.jsx)(je,{isCollapsed:t,folderParent:n,isOpen:d.isOpen,onClose:d.onClose}),(0,i.jsx)(he,{isOpen:a.isOpen,onClose:a.onClose,lineOffID:n.lineOffID,parentID:n.id,parentName:n.name,systemFileCategory:l}),(0,i.jsx)(ce,{isUpdate:!0,dataUpdate:n,lineOffID:n.lineOffID,parentID:n.id,isOpen:c.isOpen,onClose:()=>{c.onClose()},systemFileCategory:l}),(0,i.jsx)(K,{title:"X\xd3A folder",content:(0,i.jsxs)(i.Fragment,{children:["B\u1ea1n c\xf3 ch\u1eafc mu\u1ed1n x\xf3a folder ",(0,i.jsx)("span",{style:{color:"#ef5d22"},children:n.name}),". H\xe0nh \u0111\u1ed9ng n\xe0y kh\xf4ng th\u1ec3 ho\xe0n t\xe1c \u0111\u01b0\u1ee3c"]}),isOpen:u.isOpen,onClose:u.onClose,isLoading:f.isLoading,handleFunction:()=>{f.mutateAsync(n.id)}})]})]})}},2676:function(e,n,s){s.d(n,{Nn:function(){return r},g7:function(){return l},AP:function(){return a},bP:function(){return o}});var i=s(88767),t=s(51593);const l=()=>(0,i.useQuery)("continents",(()=>t.ms.getAll({pageSize:1e3,pageIndex:1})),{select:e=>e.data,staleTime:1/0,refetchOnWindowFocus:!1,keepPreviousData:!0}),r=()=>(0,i.useQuery)("allbrands",(()=>t.Dd.getAll({pageSize:1e3,pageIndex:1})),{select:e=>e.data,staleTime:1/0,refetchOnWindowFocus:!1,keepPreviousData:!0}),o=e=>(0,i.useQuery)(["allModelsHook",e],(()=>t.Lf.getAll({pageIndex:1,pageSize:999,brandID:e})),{enabled:!!e,select:e=>e.data,refetchOnWindowFocus:!1}),a=e=>(0,i.useQuery)(["allLineOffsHook",e],(()=>t.TZ.getAll({pageIndex:1,pageSize:999,eModelID:e})),{enabled:!!e,select:e=>e.data,refetchOnWindowFocus:!1})}}]);