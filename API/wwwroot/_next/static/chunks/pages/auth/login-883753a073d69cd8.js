(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[344],{40163:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/auth/login",function(){return n(77046)}])},77046:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return _}});var o=n(85893),r=n(67294),i=n(47533),s=n(11163),a=n(87536),l=n(74231),c=n(67074),d=n(96480),p=n(62097),u=n(30120),x=n(29630),h=n(9041),m=n(80562),g=n(70754),f=n(46050),b=n(31812),j=n(51593),v=n(51482),w=n(25675),Z=n.n(w),k=n(10762);const y=(0,c.ZP)(d.Z)((e=>{let{theme:t}=e;return{width:"100%",position:"relative",height:"48px !important",fontSize:"16px\t",paddingBottom:"0px","&.MuiInput-root:after":{borderBottom:"2px solid ".concat(t.palette.primary.main),transformOrigin:"left",transitionDelay:"0.2s",transitionDuration:"0.2s",transitionTimingFunction:"ease-in-out"},"&.MuiInput-root:before":{borderBottom:"2px solid #d9d9d9"},"&.MuiInput-root:hover:not(.Mui-disabled):before":{borderBottom:"2px solid #d9d9d9"},root:{},active:{},icon:{color:"inherit !important"}}})),S=()=>{const e=(0,s.useRouter)(),t=(0,p.Z)(),{classes:n}=N(),{session:c}=(0,k.I)(),[d,f]=(0,r.useState)(""),[w,S]=(0,r.useState)(!1),[_,C]=(0,r.useState)(!1),[I,B]=(0,r.useState)((()=>!(!localStorage.getItem("isRememberPass")||"true"!=localStorage.getItem("isRememberPass")))),M=e=>{e.preventDefault()},T=l.Ry().shape({username:l.Z_().required("B\u1ea1n c\u1ea7n nh\xe2p email ho\u1eb7c ta\u0300i khoa\u0309n"),password:l.Z_().required("B\u1ea1n c\u1ea7n nh\u1eadp m\u1eadt kh\u1ea9u")}),{register:q,handleSubmit:z,watch:F,formState:{errors:E},reset:R,control:P}=(0,a.cI)({defaultValues:{username:"admin",password:"Autoism@123"},resolver:(0,i.X)(T)});return(0,r.useEffect)((()=>c?void e.push(String(e.query.callbackUrl||"/")):void 0),[]),(0,o.jsx)("form",{onSubmit:z((async t=>{try{const{callbackUrl:n,...o}=e.query;let r=String(e.query.callbackUrl||"/");for(const[e,t]of Object.entries(o))console.log("".concat(e,"=").concat(t)),r+="&".concat(e,"=").concat(t);S(!0),f("");const i=await(0,j.x4)(t);200==i.resultCode&&(console.log(i),localStorage.setItem("accessToken",i.data.token),e.push(r))}catch(r){var n,o;console.log(r),S(!1),f((null===r||void 0===r||null===(n=r.response)||void 0===n||null===(o=n.data)||void 0===o?void 0:o.ResultMessage)||"L\u1ed7i kh\xf4ng nh\u1eadn \u0111\u1ecbnh")}})),children:(0,o.jsx)("div",{className:"w-screen h-screen flex relative justify-center items-center",children:(0,o.jsx)(u.Z,{className:n.box,children:(0,o.jsxs)(u.Z,{className:n.container,children:[(0,o.jsx)(u.Z,{sx:{width:"100%",display:"flex",justifyContent:"center"},children:(0,o.jsx)(Z(),{width:320,height:45,alt:"login",src:"/Logoden.png"})}),(0,o.jsxs)(u.Z,{className:n.boxForm,children:[(0,o.jsx)(u.Z,{sx:{mb:"36px"},children:(0,o.jsx)(x.Z,{variant:"largeTitle",children:"\u0110\u0103ng nh\u1eadp"})}),(0,o.jsxs)(u.Z,{className:n.field,children:[(0,o.jsx)(x.Z,{variant:"h5",children:"T\xe0i kho\u1ea3n"}),(0,o.jsx)(y,{...q("username",{required:!0}),sx:{fontSize:"16px",color:"#000"},autoComplete:"off",placeholder:"Nh\u1eadp t\xe0i kho\u1ea3n",startAdornment:(0,o.jsx)(h.Z,{position:"start",sx:{fontSize:"16px",fill:t.palette.primary.main},children:(0,o.jsx)(v.Vv,{})})}),E.username&&(0,o.jsx)("p",{children:E.username.message})]}),(0,o.jsxs)(u.Z,{className:n.field,children:[(0,o.jsx)(x.Z,{variant:"h5",children:"M\u1eadt kh\u1ea9u"}),(0,o.jsx)(y,{type:_?"text":"password",...q("password",{required:!0}),sx:{fontSize:"16px",color:"#000"},autoComplete:"off",placeholder:"Nh\u1eadp m\u1eadt kh\u1ea9u",startAdornment:(0,o.jsx)(h.Z,{position:"start",sx:{fill:t.palette.primary.main},children:(0,o.jsx)(v.mB,{})}),endAdornment:(0,o.jsx)(h.Z,{sx:{fill:t.palette.primary.main},position:"end",children:(0,o.jsx)(m.Z,{edge:"end",onClick:()=>{C(!_)},onMouseDown:M,onMouseUp:M,children:_?(0,o.jsx)(v.K3,{}):(0,o.jsx)(v.X0,{})})})}),d&&(0,o.jsx)(x.Z,{color:"error",sx:{pt:2},children:d})]}),(0,o.jsx)(b.Z,{variant:"contained",className:n.btn,loading:w,type:"submit",loadingIndicator:(0,o.jsx)(g.Z,{sx:{color:"white"},size:22}),children:"\u0110\u0103ng nh\u1eadp"})]})]})})})})};S.title="\u0110\u0103ng nh\u1eadp",S.getLayout=e=>(0,o.jsx)(o.Fragment,{children:e});const N=(0,f.ZL)()((e=>({box:{backgroundColor:e.palette.background.default,width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},container:{margin:"0 auto",maxWidth:"600px",width:"100%",padding:"0 27px"},boxForm:{backgroundColor:"#FFF",margin:"36px 0",padding:"45px 36px",borderRadius:"10px",boxShadow:"rgb(159 162 191 / 18%) 0px 9px 16px, rgb(159 162 191 / 32%) 0px 2px 2px",overflow:"hidden",transition:"box-shadow 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms"},field:{marginTop:"16px",marginBottom:"8px"},btn:{marginTop:"27px",width:"100%",padding:"11px 24px",fontSize:"0.9375rem"}})));var _=S}},function(e){e.O(0,[587,491,211,59,774,888,179],(function(){return t=40163,e(e.s=t);var t}));var t=e.O();_N_E=t}]);