(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[262],{58157:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/packages",function(){return t(56973)}])},56973:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return H}});var i=t(85893),l=t(62097),a=t(29630),r=t(26993),s=t(30120),o=t(88767),c=t(73762),u=t(76429),d=t(67294),h=t(87536),g=t(21977),p=t(53073),v=t(13136),m=t(51593),x=t(37024),f=t(66338),j=t(11163),C=t(43170);const k=e=>{let{}=e;(0,l.Z)(),(0,j.useRouter)();const n=(0,o.useQueryClient)(),t=(0,x.q)(),c=(0,x.q)(),[k,H]=((0,f.v9)((e=>e.menuControl.iconSideBarOpened)),(0,d.useState)(!1)),[N,w]=(0,d.useState)(null),y=(0,d.useRef)([]),F=(0,d.useRef)(null),O=(0,h.cI)({defaultValues:{pageSize:10,pageIndex:1,searchContent:""}}),S=O.watch(),T=e=>{const{filter:n,...t}=e;O.reset({...n,...t})},{data:_,isLoading:b,isFetching:E}=(0,o.useQuery)(["packagesListPage",S.pageIndex,S.pageSize,S.searchContent],(()=>m.NH.getAll({...S})),{enabled:!0,onError:e=>{},onSuccess:e=>{},refetchOnWindowFocus:!1,keepPreviousData:!0}),P=(0,d.useMemo)((()=>(null===_||void 0===_?void 0:_.data.items)||[]),[null===_||void 0===_?void 0:_.data]),Z=(0,d.useMemo)((()=>[{value:1,label:"Car & Light Truck"},{value:2,label:"Heavy Truck & Heavy Equipment"}]),[]),L=(0,d.useMemo)((()=>[{Header:"T\xean g\xf3i",accessor:"name",Filter:()=>null},{Header:"Lo\u1ea1i g\xf3i",accessor:"packageType",Cell:e=>{let{value:n}=e;return(0,i.jsx)(i.Fragment,{children:(0,g.ic)(n)})},Filter:e=>{let{column:n}=e;return(0,i.jsx)(C.fD,{column:n,options:Z})}},{Header:"Th\u1eddi h\u1ea1n g\xf3i",accessor:"monthExp",Cell:e=>{let{value:n}=e;return(0,i.jsxs)(a.Z,{children:[n," th\xe1ng"]})},Filter:()=>null},{Header:"Gi\xe1 b\xe1n",accessor:"price",align:"right",Cell:e=>{let{value:n}=e;return(0,i.jsx)(i.Fragment,{children:(0,g.x6)(n)})},Filter:()=>null},{Header:"description",accessor:"description",Filter:()=>null}]),[Z]),Q=(0,o.useMutation)((e=>Promise.all(e.map((e=>m.NH.delete(e))))),{onSuccess:e=>{n.invalidateQueries("packagesListPage"),c.onClose(),g.dN.success("X\xf3a th\xe0nh c\xf4ng")},onError:e=>{g.dN.error(e)}});return(0,i.jsxs)(s.Z,{ref:F,children:[(0,i.jsxs)(h.RV,{...O,children:[(0,i.jsxs)("div",{className:"mb-[36px] flex justify-between items-center",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)(a.Z,{variant:"largeTitle",children:"Qu\u1ea3n l\xfd g\xf3i th\xe0nh vi\xean"}),(0,i.jsx)(a.Z,{children:"T\u1ea5t c\u1ea3 th\xf4ng tin li\xean quan \u0111\u1ebfn g\xf3i th\xe0nh vi\xean \u0111\u01b0\u1ee3c qu\u1ea3n l\xfd t\u1eeb trang n\xe0y"})]}),(0,i.jsx)(p.HS,{title:"T\u1ea1o m\u1edbi g\xf3i th\xe0nh vi\xean",handleFunction:t.onOpen})]}),(0,i.jsx)(u.h2,{in:!0,type:"slide",direction:"left",timeout:2e3,container:F.current,children:(0,i.jsx)(u.ZD,{viewProps:{},data:P,totalRows:(null===_||void 0===_?void 0:_.data.totalItem)||0,totalPage:(null===_||void 0===_?void 0:_.data.totalPage)||0,multiSelectAction:e=>(0,i.jsx)("div",{children:(0,i.jsx)(r.Z,{onClick:()=>{y.current=e,c.onOpen()},color:"error",children:"Delete"})}),tableOptions:{columns:L},onEditClick:e=>{w(e),t.onOpen(),H(!0)},onRefetchQuery:()=>{},isToggleHiddenColumn:!0,tablePlugins:["globalFilter","filter","pagination","rowSelect"],searchState:S,setNewState:T,isLoading:b})})]}),(0,i.jsx)(v.oQ,{isOpen:t.isOpen,onClose:()=>{t.onClose(),H(!1),w(null)},dataUpdate:N,isUpdate:k}),(0,i.jsx)(v.AN,{handleFunction:()=>{var e;Q.mutateAsync(null===(e=y.current)||void 0===e?void 0:e.map((e=>e.id)))},title:"X\xd3A G\xd3I TH\xc0NH VI\xcaN",content:(0,i.jsxs)(i.Fragment,{children:["B\u1ea1n c\xf3 ch\u1eafc mu\u1ed1n x\xf3a ",(0,i.jsx)("span",{style:{fontWeight:600,color:"#ef5d22"},children:y.current.length})," g\xf3i \u0111\xe3 ch\u1ecdn? H\xe0nh \u0111\u1ed9ng n\xe0y kh\xf4ng th\u1ec3 ho\xe0n t\xe1c \u0111\u01b0\u1ee3c"]}),isOpen:c.isOpen,onClose:c.onClose})]})};k.title="Qu\u1ea3n l\xfd g\xf3i th\xe0nh vi\xean",k.getLayout=e=>(0,i.jsx)(c.Z,{children:e});var H=k}},function(e){e.O(0,[587,109,491,211,412,59,29,136,774,888,179],(function(){return n=58157,e(e.s=n);var n}));var n=e.O();_N_E=n}]);