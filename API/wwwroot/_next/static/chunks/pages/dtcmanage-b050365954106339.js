(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[575],{16067:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dtcmanage",function(){return t(49278)}])},49278:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return O}});var l=t(85893),i=t(62097),s=t(26993),a=t(30120),o=t(29630),r=t(88767),c=t(73762),u=t(76429),d=t(67294),p=t(87536),h=t(53073),m=t(13136),x=t(51593),g=t(37024),v=t(66338),f=t(11163),j=t(2676),C=t(43170);const w=e=>{let{}=e;(0,i.Z)(),(0,f.useRouter)(),(0,r.useQueryClient)();const n=(0,g.q)(),t=(0,g.q)(),c=(0,g.q)(),[w,O]=((0,v.v9)((e=>e.menuControl.iconSideBarOpened)),(0,d.useState)(null)),[S,_]=(0,d.useState)(!1),[b,D]=(0,d.useState)((()=>"lists")),N=(0,d.useRef)([]),T=(0,d.useRef)(null),y=(0,p.cI)({defaultValues:{pageSize:10,pageIndex:1,searchContent:""}}),k=y.watch(),F=e=>{const{filter:n,...t}=e;y.reset({...n,...t})},{data:Z,isLoading:E,isFetching:H}=(0,r.useQuery)(["dtcsmanageQuery",k.brandID,k.pageIndex,k.pageSize,k.searchContent],(()=>x.j3.getAll({...k})),{onSuccess:e=>{},keepPreviousData:!0,refetchOnWindowFocus:!1}),I=(0,d.useMemo)((()=>(null===Z||void 0===Z?void 0:Z.data.items)||[]),[null===Z||void 0===Z?void 0:Z.data]),P=(0,j.Nn)(),Q=(0,d.useMemo)((()=>{var e;return(null===P||void 0===P||null===(e=P.data)||void 0===e?void 0:e.items.map((e=>({value:"".concat(e.id),label:"".concat(e.name)}))))||[]}),[P]),R=(0,d.useMemo)((()=>[{Header:"M\xe3 l\u1ed7i",accessor:"dtcCode",sticky:"left",className:"whitespace-nowrap",Filter:()=>null},{Header:"T\xean m\xe3 l\u1ed7i",accessor:"name",Filter:()=>null,Cell:e=>{let{value:n}=e;return(0,l.jsx)("p",{children:n})}},{Header:"H\xe3ng xe",accessor:"brandID",Cell:e=>{let{row:n}=e;return(0,l.jsx)("p",{children:n.original.brandName})},Filter:e=>{let{column:n}=e;return(0,l.jsx)(C.fD,{column:n,options:Q})}},{Header:"D\xf2ng xe",accessor:"eModelName",Filter:()=>null}]),[Q]);return(0,l.jsxs)(a.Z,{ref:T,children:[(0,l.jsxs)(p.RV,{...y,children:[(0,l.jsxs)("div",{className:"mb-[36px] flex justify-between items-center",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)(o.Z,{variant:"largeTitle",children:"Qu\u1ea3n l\xfd DTC"}),(0,l.jsx)(o.Z,{children:"T\u1ea5t c\u1ea3 th\xf4ng tin li\xean quan \u0111\u1ebfn DTC \u0111\u01b0\u1ee3c qu\u1ea3n l\xfd t\u1eeb trang n\xe0y"})]}),(0,l.jsxs)(a.Z,{children:[(0,l.jsx)(h.HS,{title:"T\u1ea1o m\u1edbi DTC",handleFunction:t.onOpen}),(0,l.jsx)(s.Z,{sx:{ml:"9px"},color:"success",onClick:n.onOpen,children:"Import Excel"})]})]}),"cards"==b?(0,l.jsx)(u.h2,{in:!0,type:"slide",direction:"left",timeout:2e3,container:T.current,children:(0,l.jsx)(l.Fragment,{})}):(0,l.jsx)(u.h2,{in:!0,type:"slide",direction:"left",timeout:2e3,container:T.current,children:(0,l.jsx)(u.ZD,{viewProps:{},data:I,totalRows:(null===Z||void 0===Z?void 0:Z.data.totalItem)||0,totalPage:(null===Z||void 0===Z?void 0:Z.data.totalPage)||0,multiSelectAction:e=>(0,l.jsx)("div",{children:(0,l.jsx)(s.Z,{onClick:()=>{N.current=e,c.onOpen()},color:"error",children:"Delete"})}),tableOptions:{columns:R},onEditClick:e=>{console.log(e),O(e),_(!0),t.onOpen()},onRefetchQuery:()=>{},isToggleHiddenColumn:!0,tablePlugins:["globalFilter","filter","pagination","rowSelect"],searchState:k,setNewState:F,isLoading:E})})]}),(0,l.jsx)(m.Vu,{isOpen:t.isOpen,onClose:()=>{t.onClose(),O(null),_(!1)},isUpdate:S,dataUpdate:w}),(0,l.jsx)(m.fr,{isOpen:n.isOpen,onClose:n.onClose})]})};w.title="Qu\u1ea3n l\xfd DTC",w.getLayout=e=>(0,l.jsx)(c.Z,{children:e});var O=w}},function(e){e.O(0,[587,109,491,211,412,59,29,136,774,888,179],(function(){return n=16067,e(e.s=n);var n}));var n=e.O();_N_E=n}]);